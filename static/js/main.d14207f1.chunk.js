(this.webpackJsonpmy_new_project=this.webpackJsonpmy_new_project||[]).push([[0],{21:function(e,t,s){},26:function(e,t,s){},28:function(e,t,s){"use strict";s.r(t);var r=s(3),a=s.n(r),c=s(15),n=s.n(c),o=(s(21),s(8)),l=s(10),i=s(16),d=s(4),u=(s(26),s(0));const b=Object(i.a)({apiKey:"AIzaSyDoLr3Dnb5YbCnUtTexaz84YOH5h8Ukfoc",authDomain:"frist-b073a.firebaseapp.com",projectId:"frist-b073a",storageBucket:"frist-b073a.appspot.com",messagingSenderId:"580630150830",appId:"1:580630150830:web:815ba6942a64909329b73f",measurementId:"G-GH3D6EMB6L"}),j=Object(d.h)(b),m=Object(l.b)(b);function h(e){let{user:t,onBack:s,groupId:a}=e;const[c,n]=Object(r.useState)(!1),[l,i]=Object(r.useState)(0),[b,m]=Object(r.useState)(0),[h,g]=Object(r.useState)(0),[O,v]=Object(r.useState)([]),[p,x]=Object(r.useState)(!1),[y,f]=Object(r.useState)(!1),[N,M]=Object(r.useState)(!0),[T,w]=Object(r.useState)([]),[E,k]=Object(r.useState)([]),[C,L]=Object(r.useState)(!1),[S,I]=Object(r.useState)("ar"),[G,P]=Object(r.useState)(null),[U,D]=Object(r.useState)([]),[B,A]=Object(r.useState)("timer"),[R,Y]=Object(r.useState)(!1),[_,J]=Object(r.useState)([]),[X,F]=Object(r.useState)([]),[H,z]=Object(r.useState)(null),K=e=>{let t=1,s=100,r=100;for(;e>=r;)t++,s=Math.floor(1.15*s),r+=s;const a=e-(r-s);return{currentLevel:t,nextLevelPoints:s,progress:a/s*100,pointsToNextLevel:s-a}},{currentLevel:W,progress:q,pointsToNextLevel:$}=K(b),Q=(e=>{const t={1:{name:"\u0627\u0644\u0628\u0630\u0631\u0629",icon:"\ud83c\udf31",color:"var(--secondary-color)",bgColor:"rgba(16, 185, 129, 0.1)"},5:{name:"\u0627\u0644\u0645\u062a\u062f\u0631\u0628",icon:"\ud83d\udcd6",color:"var(--primary-color)",bgColor:"rgba(79, 70, 229, 0.1)"},10:{name:"\u0627\u0644\u0645\u062c\u062a\u0647\u062f",icon:"\ud83c\udf93",color:"var(--warning-color)",bgColor:"rgba(245, 158, 11, 0.1)"},20:{name:"\u0627\u0644\u062e\u0628\u064a\u0631",icon:"\ud83d\udd0d",color:"var(--accent-color)",bgColor:"rgba(239, 68, 68, 0.1)"},30:{name:"\u0627\u0644\u0639\u0628\u0642\u0631\u064a",icon:"\ud83e\udde0",color:"var(--primary-dark)",bgColor:"rgba(67, 56, 202, 0.1)"},50:{name:"\u0627\u0644\u0623\u0633\u0637\u0648\u0631\u0629",icon:"\ud83c\udfc6",color:"var(--warning-dark)",bgColor:"rgba(217, 119, 6, 0.1)"},100:{name:"\u0631\u0627\u0626\u062f \u0627\u0644\u0645\u0639\u0631\u0641\u0629",icon:"\ud83d\ude80",color:"var(--secondary-dark)",bgColor:"rgba(5, 150, 105, 0.1)"}};return t[Object.keys(t).map(Number).filter((t=>e>=t)).sort(((e,t)=>t-e))[0]]||t[1]})(W),V=e=>{P(e),setTimeout((()=>P(null)),3e3)},Z=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),r=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"),":").concat(r.toString().padStart(2,"0"))};Object(r.useEffect)((()=>{const e=async()=>{try{M(!0);const s=await Object(d.f)(Object(d.e)(j,"studyGroups",a));if(s.exists()){var e;const r=s.data();f(r.creator===t.uid),w(r.bannedMembers||[]);const a=(null===(e=r.userPoints)||void 0===e?void 0:e[t.uid])||0;if(m(a),r.members){const e=r.members.map((async e=>{const t=await Object(d.f)(Object(d.e)(j,"users",e));var s;return t.exists()?{uid:e,name:t.data().displayName,photoURL:t.data().photoURL,points:(null===(s=r.userPoints)||void 0===s?void 0:s[e])||0}:null})),t=(await Promise.all(e)).filter(Boolean);t.sort(((e,t)=>t.points-e.points)),v(t)}}}catch(s){console.error("Error fetching group data:",s)}finally{M(!1)}};e();const s=Object(d.i)(Object(d.e)(j,"studyGroups",a),e);return()=>s()}),[a,t.uid]),Object(r.useEffect)((()=>{const e=setInterval((()=>{const e=O.filter((()=>Math.random()>.7)).map((e=>e.uid));k(e)}),1e4);return()=>clearInterval(e)}),[O]),Object(r.useEffect)((()=>{let e;return c&&(e=setInterval((()=>{i((e=>e+1))}),1e3)),()=>clearInterval(e)}),[c]),Object(r.useEffect)((()=>{if(c&&l>0&&l%30===0&&l!==h){const e=b+1;m(e),(async e=>{try{var s;const r=await Object(d.f)(Object(d.e)(j,"studyGroups",a));!r.exists()||null!==(s=r.data().bannedMembers)&&void 0!==s&&s.includes(t.uid)||await Object(d.m)(Object(d.e)(j,"studyGroups",a),{["userPoints.".concat(t.uid)]:e})}catch(r){console.error("Error updating points:",r)}})(e),g(l);const s=K(e);s.currentLevel>W&&V("\ud83c\udf89 \u062a\u0642\u062f\u0645\u062a \u0644\u0644\u0645\u0633\u062a\u0648\u0649 ".concat(s.currentLevel,"!"))}}),[l,c]),Object(r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("darkMode"));null!==e&&(L(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"));const t=localStorage.getItem("language")||"ar";I(t)}),[]);const ee=async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 ".concat(T.includes(e)?"\u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631":"\u062d\u0638\u0631"," \u0647\u0630\u0627 \u0627\u0644\u0639\u0636\u0648\u061f")))try{await Object(d.k)(j,(async s=>{const r=await s.get(Object(d.e)(j,"studyGroups",a));if(!r.exists())throw new Error("\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629");const c=r.data().bannedMembers||[],n=c.includes(e),o={bannedMembers:n?c.filter((t=>t!==e)):[...c,e],banHistory:Object(d.b)({memberId:e,bannedBy:t.uid,timestamp:new Date,action:n?"unban":"ban"})};n||(o["userPoints.".concat(e)]=0),s.update(Object(d.e)(j,"studyGroups",a),o)})),V("\u2705 \u062a\u0645 ".concat(T.includes(e)?"\u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631":"\u062d\u0638\u0631"," \u0627\u0644\u0639\u0636\u0648 \u0628\u0646\u062c\u0627\u062d"))}catch(s){console.error("Error updating banned members:",s),V("\u274c \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0638\u0631")}},te=e=>{switch(e){case"glow":return{boxShadow:"0 0 15px rgba(245, 158, 11, 0.7)"};case"pulse":return{animation:"pulse 1.5s infinite"};case"float":return{transform:"translateY(-5px)",transition:"all 0.3s ease"};case"shake":return{animation:"shake 0.5s infinite"};default:return{}}};return Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsxs)("div",{className:"top-tabs",children:[Object(u.jsx)("button",{className:"menu-toggle",onClick:()=>Y(!R),"aria-label":"\u0642\u0627\u0626\u0645\u0629",children:"\u2630"}),Object(u.jsxs)("div",{className:"main-tabs",children:[Object(u.jsxs)("button",{className:"tab-button ".concat("timer"===B?"active":""),onClick:()=>A("timer"),onMouseEnter:e=>e.currentTarget.classList.add("hover-effect"),onMouseLeave:e=>e.currentTarget.classList.remove("hover-effect"),children:[Object(u.jsx)("span",{className:"tab-icon",children:"\u23f1\ufe0f"}),Object(u.jsx)("span",{className:"tab-label",children:"\u0627\u0644\u0645\u0624\u0642\u062a"})]}),Object(u.jsxs)("button",{className:"tab-button ".concat("profile"===B?"active":""),onClick:()=>A("profile"),onMouseEnter:e=>e.currentTarget.classList.add("hover-effect"),onMouseLeave:e=>e.currentTarget.classList.remove("hover-effect"),children:[Object(u.jsx)("span",{className:"tab-icon",children:"\ud83d\udc64"}),Object(u.jsx)("span",{className:"tab-label",children:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a"})]}),Object(u.jsxs)("button",{className:"tab-button ".concat("shop"===B?"active":""),onClick:()=>A("shop"),onMouseEnter:e=>e.currentTarget.classList.add("hover-effect"),onMouseLeave:e=>e.currentTarget.classList.remove("hover-effect"),children:[Object(u.jsx)("span",{className:"tab-icon",children:"\ud83d\uded2"}),Object(u.jsx)("span",{className:"tab-label",children:"\u0627\u0644\u0645\u062a\u062c\u0631"})]})]}),Object(u.jsx)("div",{className:"user-info",children:Object(u.jsxs)("div",{className:"avatar-container",children:[Object(u.jsx)("img",{src:t.photoURL,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",className:"user-avatar",onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)"}),E.includes(t.uid)&&Object(u.jsx)("div",{className:"online-status"})]})})]}),Object(u.jsxs)("div",{className:"side-menu ".concat(R?"open":""),children:[Object(u.jsx)("button",{className:"close-menu",onClick:()=>Y(!1),"aria-label":"\u0625\u063a\u0644\u0627\u0642 \u0627\u0644\u0642\u0627\u0626\u0645\u0629",children:"\u2715"}),Object(u.jsxs)("div",{className:"menu-section",children:[Object(u.jsx)("h3",{children:"\u0645\u062c\u0645\u0648\u0639\u0627\u062a\u0643"}),Object(u.jsx)("button",{onClick:s,className:"back-button",onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--hover-bg)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--secondary-bg)",children:"\u2190 \u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a"})]}),Object(u.jsxs)("div",{className:"menu-section",children:[Object(u.jsx)("h3",{children:"\u0625\u0646\u062c\u0627\u0632\u0627\u062a\u0643"}),Object(u.jsxs)("div",{className:"badge-display",style:{backgroundColor:Q.bgColor,borderLeft:"4px solid ".concat(Q.color)},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.02)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:[Object(u.jsx)("span",{className:"badge-icon",style:{color:Q.color},children:Q.icon}),Object(u.jsxs)("div",{className:"badge-info",children:[Object(u.jsx)("span",{className:"badge-name",style:{color:Q.color},children:Q.name}),Object(u.jsxs)("span",{className:"badge-level",style:{color:Q.color},children:["\u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",W]})]})]})]}),Object(u.jsxs)("div",{className:"menu-section",children:[Object(u.jsx)("h3",{children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"}),Object(u.jsxs)("div",{className:"settings-option",children:[Object(u.jsx)("span",{children:"\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645:"}),Object(u.jsxs)("label",{className:"switch",children:[Object(u.jsx)("input",{type:"checkbox",checked:C,onChange:()=>{const e=!C;L(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("darkMode",JSON.stringify(e)),V(e?"\ud83c\udf19 \u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645":"\u2600\ufe0f \u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d")}}),Object(u.jsx)("span",{className:"slider round"})]})]}),Object(u.jsxs)("div",{className:"settings-option",children:[Object(u.jsx)("span",{children:"\u0627\u0644\u0644\u063a\u0629:"}),Object(u.jsxs)("select",{value:S,onChange:e=>{return t=e.target.value,I(t),localStorage.setItem("language",t),void V("ar"===t?"\ud83c\uddf8\ud83c\udde6 \u062a\u0645 \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0644\u063a\u0629 \u0625\u0644\u0649 \u0627\u0644\u0639\u0631\u0628\u064a\u0629":"\ud83c\uddec\ud83c\udde7 Language changed to English");var t},className:"language-select",onMouseEnter:e=>e.currentTarget.style.borderColor="var(--primary-color)",onMouseLeave:e=>e.currentTarget.style.borderColor="var(--border-color)",children:[Object(u.jsx)("option",{value:"ar",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}),Object(u.jsx)("option",{value:"en",children:"English"})]})]})]})]}),Object(u.jsxs)("div",{className:"main-content",children:["timer"===B&&Object(u.jsxs)("div",{className:"timer-container",onMouseEnter:e=>e.currentTarget.style.boxShadow="var(--box-shadow-lg)",onMouseLeave:e=>e.currentTarget.style.boxShadow="var(--box-shadow)",children:[Object(u.jsxs)("div",{className:"time-display",children:[Object(u.jsx)("h2",{children:"\u0648\u0642\u062a \u0627\u0644\u0645\u0630\u0627\u0643\u0631\u0629"}),Object(u.jsx)("div",{className:"time",children:Z(l)})]}),Object(u.jsxs)("div",{className:"stats-display",children:[Object(u.jsxs)("div",{className:"stat-box",onMouseEnter:e=>e.currentTarget.style.transform="translateY(-3px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:[Object(u.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0646\u0642\u0627\u0637"}),Object(u.jsx)("span",{className:"stat-value",children:b})]}),Object(u.jsxs)("div",{className:"stat-box",onMouseEnter:e=>e.currentTarget.style.transform="translateY(-3px)",onMouseLeave:e=>e.currentTarget.style.transform="translateY(0)",children:[Object(u.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0645\u0633\u062a\u0648\u0649"}),Object(u.jsx)("span",{className:"stat-value",children:W})]})]}),Object(u.jsxs)("div",{className:"progress-container",children:[Object(u.jsxs)("div",{className:"progress-label",children:[Object(u.jsxs)("span",{children:["\u0627\u0644\u062a\u0642\u062f\u0645 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 ",W+1]}),Object(u.jsxs)("span",{children:[Math.round(q),"%"]})]}),Object(u.jsx)("div",{className:"progress-bar",children:Object(u.jsx)("div",{className:"progress-fill",style:{width:"".concat(q,"%")}})}),Object(u.jsxs)("div",{className:"progress-text",children:[$," \u0646\u0642\u0637\u0629 \u0645\u062a\u0628\u0642\u064a\u0629 \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a"]})]}),Object(u.jsxs)("div",{className:"timer-controls",children:[Object(u.jsx)("button",{onClick:()=>n(!c),className:"control-button ".concat(c?"pause-button":"start-button"),disabled:T.includes(t.uid),onMouseEnter:e=>!e.currentTarget.disabled&&(e.currentTarget.style.transform="scale(1.05)"),onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:c?" \u0625\u064a\u0642\u0627\u0641":" \u0628\u062f\u0621"}),Object(u.jsx)("button",{onClick:()=>{l>0&&(((e,t)=>{const s={date:new Date,duration:e,pointsEarned:t};D((e=>[s,...e].slice(0,10)))})(l,Math.floor(l/30)),V("\ud83d\udcca \u062a\u0645 \u062d\u0641\u0638 \u062c\u0644\u0633\u0629 \u062f\u0631\u0627\u0633\u0629 \u0645\u062f\u062a\u0647\u0627 ".concat(Z(l)))),n(!1),i(0)},className:"control-button reset-button",onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--hover-bg)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--tertiary-bg)",children:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646"}),Object(u.jsx)("button",{onClick:()=>x(!p),className:"control-button members-button",onMouseEnter:e=>e.currentTarget.style.transform="translateX(-3px)",onMouseLeave:e=>e.currentTarget.style.transform="translateX(0)",children:p?" \u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0623\u0639\u0636\u0627\u0621":" \u0639\u0631\u0636 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"})]})]}),"profile"===B&&Object(u.jsxs)("div",{className:"profile-container",onMouseEnter:e=>e.currentTarget.style.boxShadow="var(--box-shadow-lg)",onMouseLeave:e=>e.currentTarget.style.boxShadow="var(--box-shadow)",children:[Object(u.jsxs)("div",{className:"profile-header",children:[Object(u.jsx)("img",{src:t.photoURL,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",className:"profile-avatar",onMouseEnter:e=>e.currentTarget.style.transform="rotate(5deg)",onMouseLeave:e=>e.currentTarget.style.transform="rotate(0)"}),Object(u.jsx)("h2",{children:t.displayName}),Object(u.jsxs)("p",{className:"user-level",children:["\u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",W]})]}),Object(u.jsxs)("div",{className:"profile-stats",children:[Object(u.jsxs)("div",{className:"stat-row",onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--hover-bg)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[Object(u.jsx)("span",{className:"stat-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0642\u0627\u0637:"}),Object(u.jsx)("span",{className:"stat-value",children:b})]}),Object(u.jsxs)("div",{className:"stat-row",onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--hover-bg)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[Object(u.jsx)("span",{className:"stat-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0648\u0642\u062a \u0627\u0644\u062f\u0631\u0627\u0633\u0629:"}),Object(u.jsxs)("span",{className:"stat-value",children:[Math.floor(l/3600)," \u0633\u0627\u0639\u0629"]})]}),Object(u.jsxs)("div",{className:"stat-row",onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--hover-bg)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[Object(u.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0646\u0642\u0627\u0637 \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a:"}),Object(u.jsx)("span",{className:"stat-value",children:$})]})]}),U.length>0&&Object(u.jsxs)("div",{className:"sessions-history",children:[Object(u.jsx)("h3",{children:"\u0622\u062e\u0631 \u062c\u0644\u0633\u0627\u062a \u0627\u0644\u062f\u0631\u0627\u0633\u0629"}),Object(u.jsx)("div",{className:"sessions-list",children:U.map(((e,t)=>Object(u.jsxs)("div",{className:"session-item",onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--hover-bg)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:[Object(u.jsx)("span",{className:"session-date",children:new Date(e.date).toLocaleDateString()}),Object(u.jsx)("span",{className:"session-duration",children:Z(e.duration)}),Object(u.jsxs)("span",{className:"session-points",children:["+",e.pointsEarned," \u0646\u0642\u0637\u0629"]})]},t)))})]})]}),"shop"===B&&Object(u.jsxs)("div",{className:"shop-container",onMouseEnter:e=>e.currentTarget.style.boxShadow="var(--box-shadow-lg)",onMouseLeave:e=>e.currentTarget.style.boxShadow="var(--box-shadow)",children:[Object(u.jsx)("h2",{children:"\u0645\u062a\u062c\u0631 \u0627\u0644\u0646\u0642\u0627\u0637"}),Object(u.jsxs)("div",{className:"balance-display",children:[Object(u.jsx)("span",{children:"\u0631\u0635\u064a\u062f\u0643 \u0627\u0644\u062d\u0627\u0644\u064a:"}),Object(u.jsxs)("span",{className:"points-balance",children:[b," \u0646\u0642\u0637\u0629"]})]}),Object(u.jsx)("div",{className:"shop-items",children:[{id:"boost",name:"\u062f\u0641\u0639\u0629 \u0627\u0644\u0646\u062c\u0627\u062d",price:400,icon:"\u26a1",effect:"double_points",color:"var(--warning-color)",bgColor:"rgba(245, 158, 11, 0.1)",hoverEffect:"glow"},{id:"focus",name:"\u0645\u0639\u0632\u0632 \u0627\u0644\u062a\u0631\u0643\u064a\u0632",price:300,icon:"\ud83e\udde0",effect:"speed_boost",color:"var(--primary-color)",bgColor:"rgba(79, 70, 229, 0.1)",hoverEffect:"pulse"},{id:"crown",name:"\u0627\u0644\u062a\u0627\u062c \u0627\u0644\u0630\u0647\u0628\u064a",price:600,icon:"\ud83d\udc51",effect:"golden_crown",color:"var(--warning-dark)",bgColor:"rgba(217, 119, 6, 0.1)",hoverEffect:"float"},{id:"shield",name:"\u062d\u0627\u0641\u0638\u0629 \u0627\u0644\u0646\u0642\u0627\u0637",price:350,icon:"\ud83d\udee1\ufe0f",effect:"points_shield",color:"var(--secondary-color)",bgColor:"rgba(16, 185, 129, 0.1)",hoverEffect:"shake"}].map((e=>Object(u.jsxs)("div",{className:"shop-item ".concat(H===e.id?"hovered":""),style:Object(o.a)({borderColor:e.color,backgroundColor:e.bgColor},H===e.id?te(e.hoverEffect):{}),onMouseEnter:()=>z(e.id),onMouseLeave:()=>z(null),children:[Object(u.jsx)("div",{className:"item-icon",style:{color:e.color},children:e.icon}),Object(u.jsx)("h3",{children:e.name}),Object(u.jsxs)("p",{className:"item-price",style:{color:e.color},children:[e.price," \u0646\u0642\u0637\u0629"]}),Object(u.jsx)("button",{onClick:()=>(async e=>{if(b>=e.price)try{await Object(d.k)(j,(async s=>{const r=await s.get(Object(d.e)(j,"users",t.uid));s.update(Object(d.e)(j,"users",t.uid),{points:r.data().points-e.price,inventory:Object(d.b)(e.id)})})),V("\ud83c\udf89 \u062a\u0645 \u0634\u0631\u0627\u0621 ".concat(e.name,"!")),J([..._,e.id])}catch(s){console.error("Error purchasing item:",s),V("\u26a0\ufe0f \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0634\u0631\u0627\u0621")}else V("\u274c \u0646\u0642\u0627\u0637\u0643 \u063a\u064a\u0631 \u0643\u0627\u0641\u064a\u0629!")})(e),disabled:b<e.price,className:b<e.price?"disabled":"",style:{backgroundColor:e.color},onMouseEnter:e=>!e.currentTarget.disabled&&(e.currentTarget.style.transform="scale(1.05)"),onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:b<e.price?"\u0646\u0642\u0627\u0637 \u063a\u064a\u0631 \u0643\u0627\u0641\u064a\u0629":"\u0634\u0631\u0627\u0621"})]},e.id)))})]})]}),p&&Object(u.jsxs)("div",{className:"members-sidebar",onMouseEnter:e=>e.currentTarget.style.boxShadow="var(--box-shadow-lg)",onMouseLeave:e=>e.currentTarget.style.boxShadow="var(--box-shadow)",children:[Object(u.jsxs)("div",{className:"sidebar-header",children:[Object(u.jsx)("h3",{children:"\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"}),Object(u.jsx)("button",{className:"close-sidebar",onClick:()=>x(!1),onMouseEnter:e=>e.currentTarget.style.color="var(--accent-color)",onMouseLeave:e=>e.currentTarget.style.color="var(--text-secondary)",children:"\u2715"})]}),N?Object(u.jsxs)("div",{className:"loading-container",children:[Object(u.jsx)("div",{className:"spinner"}),Object(u.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0623\u0639\u0636\u0627\u0621..."})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"leaderboard",children:O.filter((e=>!T.includes(e.uid))).map(((e,s)=>Object(u.jsxs)("div",{className:"member-item ".concat(e.uid===t.uid?"current-user":""),onMouseEnter:e=>e.currentTarget.style.transform="scale(1.02)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:[Object(u.jsx)("span",{className:"member-rank",children:s+1}),Object(u.jsxs)("div",{className:"avatar-container",children:[Object(u.jsx)("img",{src:e.photoURL,alt:e.name,className:"member-avatar",onMouseEnter:e=>e.currentTarget.style.transform="rotate(5deg)",onMouseLeave:e=>e.currentTarget.style.transform="rotate(0)"}),E.includes(e.uid)&&Object(u.jsx)("div",{className:"online-status"})]}),Object(u.jsxs)("div",{className:"member-info",children:[Object(u.jsx)("span",{className:"member-name",children:e.name}),Object(u.jsxs)("span",{className:"member-points",children:[e.points," \u0646\u0642\u0637\u0629"]})]}),y&&e.uid!==t.uid&&Object(u.jsxs)("div",{className:"member-actions",children:[Object(u.jsx)("button",{onClick:()=>ee(e.uid),className:"ban-button",title:T.includes(e.uid)?"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062d\u0638\u0631":"\u062d\u0638\u0631 \u0627\u0644\u0639\u0636\u0648",onMouseEnter:e=>e.currentTarget.style.transform="scale(1.2)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:T.includes(e.uid)?"\ud83d\udeab":"\u26d4"}),Object(u.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0636\u0648 \u0645\u0646 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f"))try{await Object(d.k)(j,(async t=>{const s=await t.get(Object(d.e)(j,"studyGroups",a));if(!s.exists())throw new Error("\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629");const r=s.data(),c=r.members.filter((t=>t!==e)),n=Object(o.a)({},r.userPoints);delete n[e],t.update(Object(d.e)(j,"studyGroups",a),{members:c,userPoints:n})})),V("\u2705 \u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648 \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error removing member:",t),V("\u274c \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648")}})(e.uid),className:"remove-button",title:"\u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648",onMouseEnter:e=>e.currentTarget.style.transform="scale(1.2)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"\u2715"})]})]},e.uid)))}),T.length>0&&Object(u.jsxs)("div",{className:"banned-section",children:[Object(u.jsx)("h4",{children:"\u0627\u0644\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0645\u062d\u0638\u0648\u0631\u064a\u0646"}),O.filter((e=>T.includes(e.uid))).map((e=>Object(u.jsxs)("div",{className:"member-item banned-member",onMouseEnter:e=>e.currentTarget.style.opacity="1",onMouseLeave:e=>e.currentTarget.style.opacity="0.7",children:[Object(u.jsx)("div",{className:"avatar-container",children:Object(u.jsx)("img",{src:e.photoURL,alt:e.name,className:"member-avatar"})}),Object(u.jsxs)("div",{className:"member-info",children:[Object(u.jsx)("span",{className:"member-name",children:e.name}),Object(u.jsx)("span",{className:"banned-label",children:"\u0645\u062d\u0638\u0648\u0631"})]}),y&&Object(u.jsx)("button",{onClick:()=>ee(e.uid),className:"unban-button",onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--secondary-dark)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--secondary-color)",children:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062d\u0638\u0631"})]},e.uid)))]})]})]}),G&&Object(u.jsx)("div",{className:"notification",children:G})]})}var g=function(){const[e,t]=Object(r.useState)(null),[s,a]=Object(r.useState)(""),[c,n]=Object(r.useState)([]),[i,b]=Object(r.useState)(!1),[g,O]=Object(r.useState)(null),[v,p]=Object(r.useState)(!1),[x,y]=Object(r.useState)(""),[f,N]=Object(r.useState)(!1),[M,T]=Object(r.useState)("ar"),[w,E]=Object(r.useState)(null),[k,C]=Object(r.useState)(null),L=e=>{E(e),setTimeout((()=>E(null)),3e3)};Object(r.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("darkMode"));null!==e&&(N(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"))}),[]),Object(r.useEffect)((()=>{const e=Object(l.c)(m,(async e=>{e?(await Object(d.l)(Object(d.e)(j,"users",e.uid),{displayName:e.displayName,photoURL:e.photoURL,email:e.email,lastLogin:new Date},{merge:!0}),t(e),await S(e.uid)):(t(null),n([]),O(null))}));return()=>e()}),[]);const S=async e=>{b(!0);try{const t=Object(d.j)(Object(d.c)(j,"studyGroups"),Object(d.n)("members","array-contains",e)),s=await Object(d.g)(t),r=s.docs.map((async t=>{var s;const r=t.data();if(null!==(s=r.bannedMembers)&&void 0!==s&&s.includes(e))return null;const a=await Object(d.f)(Object(d.e)(j,"users",r.creator)),c=a.exists()?a.data().displayName:"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641";return Object(o.a)(Object(o.a)({id:t.id},r),{},{creatorName:c,code:t.id.slice(0,6).toUpperCase(),isCreator:r.creator===e})})),a=(await Promise.all(r)).filter(Boolean);n(a),g&&!a.some((e=>e.id===g))&&O(null)}catch(t){console.error("Error fetching user groups:",t),L("\u274c \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a")}finally{b(!1)}},I=async()=>{if(s.trim())try{const t={name:s.trim(),createdAt:new Date,creator:e.uid,members:[e.uid],userPoints:{[e.uid]:0},bannedMembers:[]};await Object(d.a)(Object(d.c)(j,"studyGroups"),t),a(""),L('\ud83c\udf89 \u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629 "'.concat(s.trim(),'" \u0628\u0646\u062c\u0627\u062d')),await S(e.uid)}catch(t){console.error("Error adding group:",t),L("\u274c \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}else L("\u26a0\ufe0f \u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")},G=()=>{O(null)};return g&&e?Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(h,{user:e,onBack:G,groupId:g})}):Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)("button",{onClick:()=>{const e=!f;N(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("darkMode",JSON.stringify(e)),L(e?"\ud83c\udf19 \u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645":"\u2600\ufe0f \u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d")},className:"theme-toggle","aria-label":f?"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d":"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u063a\u0627\u0645\u0642",onMouseEnter:e=>e.currentTarget.style.transform="rotate(30deg)",onMouseLeave:e=>e.currentTarget.style.transform="rotate(0)",children:f?"\u2600\ufe0f":"\ud83c\udf19"}),Object(u.jsxs)("header",{className:"App-header",children:[Object(u.jsx)("div",{className:"login-container",children:e?Object(u.jsx)("div",{className:"user-welcome",children:Object(u.jsxs)("div",{className:"user-info",children:[Object(u.jsx)("img",{src:e.photoURL,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",className:"user-avatar",onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)"}),Object(u.jsxs)("div",{className:"user-details",children:[Object(u.jsxs)("h2",{children:["\u0645\u0631\u062d\u0628\u0627\u064b ",e.displayName,"!"]}),Object(u.jsx)("button",{className:"logout-button",onClick:async()=>{try{await Object(l.e)(m),L("\u2705 \u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d")}catch(e){console.error("Error signing out:",e)}},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"})]})]})}):Object(u.jsxs)("div",{className:"welcome-screen",children:[Object(u.jsx)("h1",{children:"\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u062f\u0631\u0627\u0633\u0629 \u0627\u0644\u062a\u0639\u0627\u0648\u0646\u064a\u0629"}),Object(u.jsx)("p",{children:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0645\u062c\u062a\u0645\u0639 \u0627\u0644\u0645\u0630\u0627\u0643\u0631\u0629 \u0645\u0639 \u0627\u0644\u0623\u0635\u062f\u0642\u0627\u0621 \u0648\u062d\u0642\u0642 \u0623\u0647\u062f\u0627\u0641\u0643 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a\u0629"}),Object(u.jsx)("button",{className:"login-button",onClick:async()=>{const e=new l.a;try{const t=await Object(l.d)(m,e);L("\ud83c\udf89 \u0645\u0631\u062d\u0628\u0627\u064b ".concat(t.user.displayName,"!"))}catch(t){console.error("Error signing in:",t),L("\u274c \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644")}},onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:Object(u.jsx)("span",{children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Google"})})]})}),e&&Object(u.jsxs)("div",{className:"group-management",children:[Object(u.jsxs)("div",{className:"group-creation",onMouseEnter:e=>e.currentTarget.style.boxShadow="var(--box-shadow-lg)",onMouseLeave:e=>e.currentTarget.style.boxShadow="var(--box-shadow)",children:[Object(u.jsx)("h2",{children:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629 \u062c\u062f\u064a\u062f\u0629"}),Object(u.jsxs)("div",{className:"input-group",children:[Object(u.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",onKeyPress:e=>"Enter"===e.key&&I(),onMouseEnter:e=>e.currentTarget.style.borderColor="var(--primary-color)",onMouseLeave:e=>e.currentTarget.style.borderColor="var(--border-color)"}),Object(u.jsx)("button",{className:"create-button",onClick:I,onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"\u0625\u0646\u0634\u0627\u0621"})]})]}),Object(u.jsxs)("div",{className:"join-group",onMouseEnter:e=>e.currentTarget.style.boxShadow="var(--box-shadow-lg)",onMouseLeave:e=>e.currentTarget.style.boxShadow="var(--box-shadow)",children:[Object(u.jsx)("h2",{children:"\u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0625\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0629"}),Object(u.jsx)("button",{className:"join-button",onClick:()=>p(!0),onMouseEnter:e=>e.currentTarget.style.transform="translateX(-5px)",onMouseLeave:e=>e.currentTarget.style.transform="translateX(0)",children:"\u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0628\u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u0648\u062c\u0648\u062f\u0629"})]})]}),e&&Object(u.jsxs)("div",{className:"study-groups",children:[Object(u.jsx)("h2",{children:"\u0645\u062c\u0645\u0648\u0639\u0627\u062a\u0643 \u0627\u0644\u062f\u0631\u0627\u0633\u064a\u0629"}),i?Object(u.jsxs)("div",{className:"loading-container",children:[Object(u.jsx)("div",{className:"spinner"}),Object(u.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a..."})]}):0===c.length?Object(u.jsxs)("div",{className:"empty-state",onMouseEnter:e=>e.currentTarget.style.transform="scale(1.02)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:[Object(u.jsx)("div",{className:"empty-icon",children:"\ud83d\udcda"}),Object(u.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u062d\u0627\u0644\u064a\u0627\u064b"}),Object(u.jsx)("button",{className:"create-button",onClick:()=>document.querySelector(".group-creation input").focus(),onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629 \u062c\u062f\u064a\u062f\u0629"})]}):Object(u.jsx)("div",{className:"groups-grid",children:c.map((t=>Object(u.jsxs)("div",{id:"group-".concat(t.id),className:"group-card ".concat(k===t.id?"hovered":""),onMouseEnter:()=>C(t.id),onMouseLeave:()=>C(null),style:{transform:k===t.id?"perspective(1000px) rotateX(5deg)":"perspective(1000px) rotateX(0)",boxShadow:k===t.id?"0 20px 30px rgba(0, 0, 0, 0.2)":"var(--box-shadow)"},children:[Object(u.jsxs)("div",{className:"group-content",children:[Object(u.jsx)("h3",{className:"group-name",children:t.name}),Object(u.jsxs)("p",{className:"group-meta",children:[Object(u.jsxs)("span",{className:"group-creator",children:["\u0627\u0644\u0645\u0646\u0634\u0626: ",t.creatorName]}),Object(u.jsxs)("span",{className:"group-code",children:["\u0643\u0648\u062f: ",t.code]})]}),t.isCreator&&Object(u.jsx)("span",{className:"creator-badge",children:"\u0623\u0646\u062a \u0627\u0644\u0645\u0646\u0634\u0626"})]}),Object(u.jsxs)("div",{className:"group-actions",children:[Object(u.jsx)("button",{onClick:()=>{return e=t.id,void O(e);var e},className:"join-button",onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"\u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"}),t.isCreator&&Object(u.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("\u26a0\ufe0f \u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u062c\u0645\u064a\u0639 \u0628\u064a\u0627\u0646\u0627\u062a\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627\u064b"))try{const s=document.getElementById("group-".concat(t));s&&(s.style.transform="scale(0.9)",s.style.opacity="0.5",s.style.transition="all 0.3s ease",s.style.animation="shake 0.5s",await new Promise((e=>setTimeout(e,500)))),await Object(d.d)(Object(d.e)(j,"studyGroups",t)),L("\u2705 \u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0628\u0646\u062c\u0627\u062d"),await S(e.uid)}catch(s){console.error("Error deleting group:",s),L("\u274c \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}})(t.id),className:"delete-button",onMouseEnter:e=>e.currentTarget.style.transform="scale(1.1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"\u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"})]})]},t.id)))})]}),v&&Object(u.jsx)("div",{className:"modal-overlay",onClick:()=>p(!1),children:Object(u.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),onMouseEnter:e=>e.currentTarget.style.transform="scale(1.02)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:[Object(u.jsx)("button",{className:"close-button",onClick:()=>p(!1),onMouseEnter:e=>e.currentTarget.style.transform="rotate(90deg)",onMouseLeave:e=>e.currentTarget.style.transform="rotate(0)",children:"\xd7"}),Object(u.jsx)("h2",{children:"\u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0625\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0629"}),Object(u.jsx)("p",{children:"\u0623\u062f\u062e\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0643\u0648\u0646 \u0645\u0646 6 \u0623\u062d\u0631\u0641"}),Object(u.jsx)("input",{type:"text",value:x,onChange:e=>y(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",maxLength:6,className:"join-input",onMouseEnter:e=>e.currentTarget.style.borderColor="var(--primary-color)",onMouseLeave:e=>e.currentTarget.style.borderColor="var(--border-color)"}),Object(u.jsxs)("div",{className:"modal-actions",children:[Object(u.jsx)("button",{onClick:async()=>{if(x.trim())try{const s=Object(d.c)(j,"studyGroups"),r=await Object(d.g)(s);let a=null;if(r.forEach((e=>{const t=e.id.slice(0,6).toUpperCase();t===x.toUpperCase().trim()&&(a=Object(o.a)(Object(o.a)({id:e.id},e.data()),{},{code:t}))})),a){var t;if(null!==(t=a.bannedMembers)&&void 0!==t&&t.includes(e.uid))return void L("\ud83d\udeab \u0623\u0646\u062a \u0645\u062d\u0638\u0648\u0631 \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 (".concat(a.name,")"));if(a.members&&a.members.includes(e.uid))return O(a.id),p(!1),void y("");await Object(d.m)(Object(d.e)(j,"studyGroups",a.id),{["userPoints.".concat(e.uid)]:0,members:[...a.members||[],e.uid]}),O(a.id),p(!1),y(""),L('\ud83c\udf89 \u062a\u0645 \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0625\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0629 "'.concat(a.name,'"')),await S(e.uid)}else L("\u274c \u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0629 \u0628\u0647\u0630\u0627 \u0627\u0644\u0643\u0648\u062f")}catch(s){console.error("Error joining group:",s),L("\u274c \u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0644\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}else L("\u26a0\ufe0f \u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")},className:"confirm-button",onMouseEnter:e=>e.currentTarget.style.transform="scale(1.05)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645"}),Object(u.jsx)("button",{onClick:()=>p(!1),className:"cancel-button",onMouseEnter:e=>e.currentTarget.style.backgroundColor="var(--hover-bg)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="var(--tertiary-bg)",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})}),w&&Object(u.jsx)("div",{className:"notification",children:w}),Object(u.jsx)("footer",{className:"app-footer",children:Object(u.jsxs)("p",{children:["\u062a\u0645 \u062a\u0637\u0648\u064a\u0631\u0647 \u0628\u0648\u0627\u0633\u0637\u0629 \u0645\u062d\u0645\u062f \u0623\u0628\u0648 \u0637\u0628\u064a\u062e \xa9 ",(new Date).getFullYear()]})})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var O=e=>{e&&"function"===typeof e&&s.e(3).then(s.bind(null,29)).then((t=>{let{getCLS:s,getFID:r,getFCP:a,getLCP:c,getTTFB:n}=t;s(e),r(e),a(e),c(e),n(e)})).catch((e=>{console.log("Error importing web-vitals:",e)}))};n.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)})),O()}},[[28,1,2]]]);
//# sourceMappingURL=main.d14207f1.chunk.js.map