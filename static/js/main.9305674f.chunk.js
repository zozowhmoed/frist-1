(this.webpackJsonpmy_new_project=this.webpackJsonpmy_new_project||[]).push([[0],{21:function(e,t,s){},26:function(e,t,s){},28:function(e,t,s){"use strict";s.r(t);var a=s(4),c=s.n(a),n=s(15),r=s.n(n),i=(s(21),s(8)),o=s(10),l=s(16),d=s(3),b=(s(26),s(1));const m=Object(l.a)({apiKey:"AIzaSyDoLr3Dnb5YbCnUtTexaz84YOH5h8Ukfoc",authDomain:"frist-b073a.firebaseapp.com",projectId:"frist-b073a",storageBucket:"frist-b073a.appspot.com",messagingSenderId:"580630150830",appId:"1:580630150830:web:815ba6942a64909329b73f",measurementId:"G-GH3D6EMB6L"}),j=Object(d.h)(m),u=Object(o.b)(m);function O(e){let{user:t,onBack:s,groupId:c}=e;const[n,r]=Object(a.useState)(!1),[o,l]=Object(a.useState)(0),[m,u]=Object(a.useState)(0),[O,h]=Object(a.useState)(0),[p,x]=Object(a.useState)([]),[N,g]=Object(a.useState)(!1),[v,y]=Object(a.useState)(!1),[f,w]=Object(a.useState)(!0),[k,C]=Object(a.useState)([]),[S,E]=Object(a.useState)([]);Object(a.useEffect)((()=>{const e=setInterval((()=>{const e=p.filter((()=>Math.random()>.5)).map((e=>e.uid));E(e)}),5e3);return()=>clearInterval(e)}),[p]),Object(a.useEffect)((()=>{const e=async()=>{try{w(!0);const s=await Object(d.f)(Object(d.e)(j,"studyGroups",c));if(s.exists()){var e;const a=s.data();y(a.creator===t.uid),C(a.bannedMembers||[]);const c=(null===(e=a.userPoints)||void 0===e?void 0:e[t.uid])||0;if(u(c),a.members){const e=a.members.map((async e=>{const t=await Object(d.f)(Object(d.e)(j,"users",e));var s;return t.exists()?{uid:e,name:t.data().displayName,photoURL:t.data().photoURL,points:(null===(s=a.userPoints)||void 0===s?void 0:s[e])||0}:null})),t=(await Promise.all(e)).filter(Boolean);t.sort(((e,t)=>t.points-e.points)),x(t)}}}catch(s){console.error("Error fetching group data:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u0645\u064a\u0644 \u0628\u064a\u0627\u0646\u0627\u062a \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}finally{w(!1)}};e();const s=Object(d.i)(Object(d.e)(j,"studyGroups",c),e);return()=>s()}),[c,t.uid]);Object(a.useEffect)((()=>{if(n&&o>0&&o%30===0&&o!==O){const e=m+1;u(e),(async e=>{try{var s;const a=await Object(d.f)(Object(d.e)(j,"studyGroups",c));!a.exists()||null!==(s=a.data().bannedMembers)&&void 0!==s&&s.includes(t.uid)||await Object(d.m)(Object(d.e)(j,"studyGroups",c),{["userPoints.".concat(t.uid)]:e})}catch(a){console.error("Error updating points:",a)}})(e),h(o)}}),[o,n]),Object(a.useEffect)((()=>{let e;return n&&(e=setInterval((()=>{l((e=>e+1))}),1e3)),()=>clearInterval(e)}),[n]);const I=async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 ".concat(k.includes(e)?"\u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631":"\u062d\u0638\u0631"," \u0647\u0630\u0627 \u0627\u0644\u0639\u0636\u0648\u061f")))try{await Object(d.k)(j,(async s=>{const a=await s.get(Object(d.e)(j,"studyGroups",c));if(!a.exists())throw new Error("\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629");const n=a.data(),r=n.bannedMembers||[],i=r.includes(e),o={bannedMembers:i?r.filter((t=>t!==e)):[...r,e],banHistory:Object(d.b)({memberId:e,bannedBy:t.uid,timestamp:new Date,action:i?"unban":"ban"})};i?await Object(d.a)(Object(d.c)(j,"notifications"),{userId:e,groupId:c,type:"unban",message:'\u062a\u0645 \u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631\u0643 \u0645\u0646 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 "'.concat(n.name,'" \u0648\u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0645\u0630\u0627\u0643\u0631\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649'),timestamp:new Date,read:!1}):(o["userPoints.".concat(e)]=0,await Object(d.a)(Object(d.c)(j,"notifications"),{userId:e,groupId:c,type:"ban",message:'\u062a\u0645 \u062d\u0638\u0631\u0643 \u0645\u0646 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 "'.concat(n.name,'" \u0648\u0644\u0646 \u062a\u062d\u062a\u0633\u0628 \u0646\u0642\u0627\u0637\u0643 \u0628\u0639\u062f \u0627\u0644\u0622\u0646'),timestamp:new Date,read:!1})),s.update(Object(d.e)(j,"studyGroups",c),o)})),alert("\u062a\u0645 ".concat(k.includes(e)?"\u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631":"\u062d\u0638\u0631"," \u0627\u0644\u0639\u0636\u0648 \u0628\u0646\u062c\u0627\u062d"))}catch(s){console.error("Error updating banned members:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0638\u0631")}};return Object(b.jsxs)("div",{className:"timer-container",children:[Object(b.jsx)("button",{onClick:s,className:"back-button",children:"\u2190 \u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a"}),Object(b.jsxs)("div",{className:"user-info",children:[Object(b.jsxs)("div",{className:"avatar-container",children:[Object(b.jsx)("img",{src:t.photoURL,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",className:"user-avatar"}),S.includes(t.uid)&&Object(b.jsx)("div",{className:"online-status"})]}),Object(b.jsx)("span",{className:"user-display-name",children:t.displayName}),k.includes(t.uid)&&Object(b.jsx)("span",{className:"banned-warning",children:"(\u062d\u0633\u0627\u0628\u0643 \u0645\u062d\u0638\u0648\u0631 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629)"})]}),Object(b.jsxs)("div",{className:"timer-display",children:[Object(b.jsx)("h2",{children:"\u0648\u0642\u062a \u0627\u0644\u0645\u0630\u0627\u0643\u0631\u0629"}),Object(b.jsx)("div",{className:"time",children:(e=>{const t=Math.floor(e/60),s=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"))})(o)}),Object(b.jsxs)("div",{className:"points",children:["\u0627\u0644\u0646\u0642\u0627\u0637: ",m]}),Object(b.jsxs)("div",{className:"timer-controls",children:[Object(b.jsx)("button",{onClick:()=>r(!n),className:n?"pause-button":"start-button",disabled:k.includes(t.uid),children:n?"\u0625\u064a\u0642\u0627\u0641":"\u0628\u062f\u0621"}),Object(b.jsx)("button",{onClick:()=>{r(!1),l(0)},className:"reset-button",children:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646 \u0627\u0644\u0648\u0642\u062a"}),Object(b.jsx)("button",{onClick:()=>g(!N),className:"members-button",children:N?"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0623\u0639\u0636\u0627\u0621":"\u0639\u0631\u0636 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"})]})]}),N&&Object(b.jsxs)("div",{className:"members-sidebar",children:[Object(b.jsx)("h3",{children:"\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"}),f?Object(b.jsxs)("div",{className:"loading-container",children:[Object(b.jsx)("div",{className:"spinner"}),Object(b.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0623\u0639\u0636\u0627\u0621..."})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"leaderboard",children:p.filter((e=>!k.includes(e.uid))).map(((e,s)=>Object(b.jsxs)("div",{className:"member-item ".concat(e.uid===t.uid?"current-user":""),children:[Object(b.jsx)("span",{className:"member-rank",children:s+1}),Object(b.jsxs)("div",{className:"avatar-container",children:[Object(b.jsx)("img",{src:e.photoURL,alt:e.name,className:"member-avatar"}),S.includes(e.uid)&&Object(b.jsx)("div",{className:"online-status"})]}),Object(b.jsxs)("div",{className:"member-info",children:[Object(b.jsx)("span",{className:"member-name",children:e.name}),Object(b.jsxs)("span",{className:"member-points",children:[e.points," \u0646\u0642\u0637\u0629"]})]}),v&&e.uid!==t.uid&&Object(b.jsxs)("div",{className:"member-actions",children:[Object(b.jsx)("button",{onClick:()=>I(e.uid),className:"ban-button",title:"\u062d\u0638\u0631 \u0627\u0644\u0639\u0636\u0648",children:"\u26d4"}),Object(b.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0636\u0648 \u0645\u0646 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f"))try{await Object(d.k)(j,(async t=>{const s=await t.get(Object(d.e)(j,"studyGroups",c));if(!s.exists())throw new Error("\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629");const a=s.data(),n=a.members.filter((t=>t!==e)),r=Object(i.a)({},a.userPoints);delete r[e],t.update(Object(d.e)(j,"studyGroups",c),{members:n,userPoints:r})})),alert("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648 \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error removing member:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648")}})(e.uid),className:"remove-member-button",title:"\u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648",children:"\u2715"})]})]},e.uid)))}),k.length>0&&Object(b.jsxs)("div",{className:"banned-members-section",children:[Object(b.jsx)("h4",{children:"\u0627\u0644\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0645\u062d\u0638\u0648\u0631\u064a\u0646"}),p.filter((e=>k.includes(e.uid))).map((e=>Object(b.jsxs)("div",{className:"member-item banned-member",children:[Object(b.jsxs)("div",{className:"avatar-container",children:[Object(b.jsx)("img",{src:e.photoURL,alt:e.name,className:"member-avatar"}),S.includes(e.uid)&&Object(b.jsx)("div",{className:"online-status"})]}),Object(b.jsxs)("div",{className:"member-info",children:[Object(b.jsx)("span",{className:"member-name",children:e.name}),Object(b.jsx)("span",{className:"banned-label",children:"\u0645\u062d\u0638\u0648\u0631"})]}),v&&Object(b.jsx)("button",{onClick:()=>I(e.uid),className:"unban-button",title:"\u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631 \u0627\u0644\u0639\u0636\u0648",children:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062d\u0638\u0631"})]},e.uid)))]})]})]})]})}var h=function(){const[e,t]=Object(a.useState)(null),[s,c]=Object(a.useState)(""),[n,r]=Object(a.useState)([]),[l,m]=Object(a.useState)(!1),[h,p]=Object(a.useState)(null),[x,N]=Object(a.useState)(!1),[g,v]=Object(a.useState)(""),[y,f]=Object(a.useState)(!1);Object(a.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("darkMode"));if(null!==e)f(e),document.documentElement.setAttribute("data-theme",e?"dark":"light");else{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;f(e),document.documentElement.setAttribute("data-theme",e?"dark":"light")}}),[]),Object(a.useEffect)((()=>{const e=Object(o.c)(u,(async e=>{e?(await Object(d.l)(Object(d.e)(j,"users",e.uid),{displayName:e.displayName,photoURL:e.photoURL,email:e.email,lastLogin:new Date},{merge:!0}),t(e),await w(e.uid)):(t(null),r([]),p(null))}));return()=>e()}),[]);const w=async e=>{m(!0);try{const t=Object(d.j)(Object(d.c)(j,"studyGroups"),Object(d.n)("members","array-contains",e)),s=await Object(d.g)(t),a=s.docs.map((async t=>{var s;const a=t.data();if(null!==(s=a.bannedMembers)&&void 0!==s&&s.includes(e))return null;const c=await Object(d.f)(Object(d.e)(j,"users",a.creator)),n=c.exists()?c.data().displayName:"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641";return Object(i.a)(Object(i.a)({id:t.id},a),{},{creatorName:n,code:t.id.slice(0,6).toUpperCase(),isCreator:a.creator===e})})),c=(await Promise.all(a)).filter(Boolean);r(c),h&&!c.some((e=>e.id===h))&&p(null)}catch(t){console.error("Error fetching user groups:",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a")}finally{m(!1)}},k=()=>{p(null)};return h&&e?Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("header",{className:"App-header",children:Object(b.jsx)(O,{user:e,onBack:k,groupId:h})})}):Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("button",{onClick:()=>{const e=!y;f(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("darkMode",JSON.stringify(e))},className:"theme-toggle","aria-label":y?"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d":"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u063a\u0627\u0645\u0642",children:y?"\u2600\ufe0f":"\ud83c\udf19"}),Object(b.jsxs)("header",{className:"App-header",children:[Object(b.jsx)("div",{className:"login-container",children:e?Object(b.jsxs)("div",{className:"welcome",children:[Object(b.jsx)("div",{className:"avatar-container",children:Object(b.jsx)("img",{src:e.photoURL,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",className:"user-avatar"})}),Object(b.jsx)("div",{className:"user-display-name",onClick:()=>alert("\u0645\u0631\u062d\u0628\u0627\u064b ".concat(e.displayName,"!")),children:e.displayName}),Object(b.jsx)("button",{className:"logout-button",onClick:async()=>{try{await Object(o.e)(u)}catch(e){console.error("Error signing out:",e)}},children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"})]}):Object(b.jsx)("button",{className:"login-button",onClick:async()=>{const e=new o.a;try{const s=await Object(o.d)(u,e);await Object(d.l)(Object(d.e)(j,"users",s.user.uid),{displayName:s.user.displayName,photoURL:s.user.photoURL,email:s.user.email,lastLogin:new Date},{merge:!0}),t(s.user),await w(s.user.uid)}catch(s){console.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644: ",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644\u060c \u064a\u0631\u062c\u0649 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0645\u0631\u0629 \u0623\u062e\u0631\u0649")}},children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Google"})}),e&&Object(b.jsxs)("div",{className:"group-management",children:[Object(b.jsxs)("div",{className:"group-creation",children:[Object(b.jsx)("input",{type:"text",value:s,onChange:e=>c(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u062f\u0631\u0627\u0633\u0629"}),Object(b.jsx)("button",{className:"create-group-button",onClick:async()=>{if(s.trim())try{const t={name:s.trim(),createdAt:new Date,creator:e.uid,members:[e.uid],userPoints:{[e.uid]:0},bannedMembers:[]};await Object(d.a)(Object(d.c)(j,"studyGroups"),t),c(""),await w(e.uid)}catch(t){console.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629: ",t),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}else alert("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629.")},children:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629"})]}),Object(b.jsx)("button",{className:"join-group-button",onClick:()=>N(!0),children:"\u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u0648\u062c\u0648\u062f\u0629"})]}),Object(b.jsxs)("div",{className:"study-groups",children:[Object(b.jsx)("h2",{children:"\u0645\u062c\u0645\u0648\u0639\u0627\u062a\u064a \u0627\u0644\u062f\u0631\u0627\u0633\u064a\u0629"}),l?Object(b.jsxs)("div",{className:"loading-container",children:[Object(b.jsx)("div",{className:"spinner"}),Object(b.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a..."})]}):0===n.length?Object(b.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u062d\u0627\u0644\u064a\u0627\u064b"}):Object(b.jsx)("ul",{children:n.map((t=>Object(b.jsxs)("li",{id:"group-".concat(t.id),className:"group-item",children:[Object(b.jsxs)("div",{className:"group-info",children:[Object(b.jsx)("span",{className:"group-name",children:t.name}),Object(b.jsxs)("span",{className:"group-code",children:["\u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629: ",t.code]}),Object(b.jsxs)("span",{className:"group-creator",children:["\u0627\u0644\u0645\u0646\u0634\u0626: ",t.creatorName]}),t.isCreator&&Object(b.jsx)("span",{className:"creator-badge",children:"(\u0623\u0646\u062a \u0627\u0644\u0645\u0646\u0634\u0626)"})]}),Object(b.jsx)("div",{className:"group-actions",children:e&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:()=>{return e=t.id,void p(e);var e},className:"join-button",children:"\u062f\u062e\u0648\u0644"}),t.isCreator&&Object(b.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u062c\u0645\u064a\u0639 \u0628\u064a\u0627\u0646\u0627\u062a\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627\u064b"))try{const s=document.getElementById("group-".concat(t));s&&(s.style.transform="scale(0.9)",s.style.opacity="0.5",s.style.transition="all 0.3s ease",s.style.animation="shake 0.5s",await new Promise((e=>setTimeout(e,500)))),await Object(d.d)(Object(d.e)(j,"studyGroups",t)),await w(e.uid);const a=document.createElement("div");a.className="deletion-success",a.textContent="\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0628\u0646\u062c\u0627\u062d",document.body.appendChild(a),setTimeout((()=>{a.style.opacity="0",setTimeout((()=>a.remove()),500)}),2e3)}catch(s){console.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}})(t.id),className:"delete-button",title:"\u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",children:"\u062d\u0630\u0641 \ud83d\uddd1\ufe0f"})]})})]},t.id)))})]}),x&&Object(b.jsx)("div",{className:"modal-overlay",children:Object(b.jsxs)("div",{className:"join-modal",children:[Object(b.jsx)("h3",{children:"\u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0644\u0645\u062c\u0645\u0648\u0639\u0629"}),Object(b.jsx)("p",{children:"\u0623\u062f\u062e\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0644\u0644\u0627\u0646\u0636\u0645\u0627\u0645:"}),Object(b.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"}),Object(b.jsxs)("div",{className:"modal-buttons",children:[Object(b.jsx)("button",{onClick:async()=>{if(g.trim())try{const s=Object(d.c)(j,"studyGroups"),a=await Object(d.g)(s);let c=null;if(a.forEach((e=>{const t=e.id.slice(0,6).toUpperCase();t===g.toUpperCase().trim()&&(c=Object(i.a)(Object(i.a)({id:e.id},e.data()),{},{code:t}))})),c){var t;if(null!==(t=c.bannedMembers)&&void 0!==t&&t.includes(e.uid))return void alert("\u0623\u0646\u062a \u0645\u062d\u0638\u0648\u0631 \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 (".concat(c.name,").\n\u0644\u0627 \u064a\u0645\u0643\u0646\u0643 \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0623\u0648 \u0643\u0633\u0628 \u0627\u0644\u0646\u0642\u0627\u0637 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629."));if(c.members&&c.members.includes(e.uid))return alert("\u0623\u0646\u062a \u0628\u0627\u0644\u0641\u0639\u0644 \u0639\u0636\u0648 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"),p(c.id),N(!1),void v("");await Object(d.m)(Object(d.e)(j,"studyGroups",c.id),{["userPoints.".concat(e.uid)]:0,members:[...c.members||[],e.uid]}),p(c.id),N(!1),v(""),await w(e.uid)}else alert("\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0629 \u0628\u0647\u0630\u0627 \u0627\u0644\u0643\u0648\u062f\u060c \u062a\u0623\u0643\u062f \u0645\u0646 \u0635\u062d\u0629 \u0627\u0644\u0643\u0648\u062f")}catch(s){console.error("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0644\u0644\u0645\u062c\u0645\u0648\u0639\u0629:",s),alert("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0644\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}else alert("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")},className:"confirm-button",children:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645"}),Object(b.jsx)("button",{onClick:()=>{N(!1),v("")},className:"cancel-button",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})}),Object(b.jsx)("div",{className:"footer",children:Object(b.jsx)("p",{children:"This project was created by Mohamed Abu Tabikh"})})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=e=>{e&&"function"===typeof e&&s.e(3).then(s.bind(null,29)).then((t=>{let{getCLS:s,getFID:a,getFCP:c,getLCP:n,getTTFB:r}=t;s(e),a(e),c(e),n(e),r(e)})).catch((e=>{console.log("Error importing web-vitals:",e)}))};r.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(h,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)})),p()}},[[28,1,2]]]);
//# sourceMappingURL=main.9305674f.chunk.js.map