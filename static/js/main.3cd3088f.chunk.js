(this.webpackJsonpmy_new_project=this.webpackJsonpmy_new_project||[]).push([[0],{21:function(e,t,s){},26:function(e,t,s){},28:function(e,t,s){"use strict";s.r(t);var c=s(3),a=s.n(c),n=s(15),i=s.n(n),r=(s(21),s(8)),l=s(10),o=s(16),d=s(4),j=(s(26),s(0));const b=Object(o.a)({apiKey:"AIzaSyDoLr3Dnb5YbCnUtTexaz84YOH5h8Ukfoc",authDomain:"frist-b073a.firebaseapp.com",projectId:"frist-b073a",storageBucket:"frist-b073a.appspot.com",messagingSenderId:"580630150830",appId:"1:580630150830:web:815ba6942a64909329b73f",measurementId:"G-GH3D6EMB6L"}),m=Object(d.h)(b),u=Object(l.b)(b);function O(e){let{user:t,onBack:s,groupId:a}=e;const[n,i]=Object(c.useState)(!1),[o,b]=Object(c.useState)(0),[O,h]=Object(c.useState)(0),[p,x]=Object(c.useState)(0),[N,v]=Object(c.useState)([]),[g,y]=Object(c.useState)(!1),[f,w]=Object(c.useState)(!1),[k,S]=Object(c.useState)(!0),[C,E]=Object(c.useState)([]),[L,I]=Object(c.useState)([]),[M,P]=Object(c.useState)(!1),[G,U]=Object(c.useState)(!1),[D,B]=Object(c.useState)(!1),[A,R]=Object(c.useState)(!1),[T,J]=Object(c.useState)("ar"),[F,_]=Object(c.useState)(null),[H,Y]=Object(c.useState)([]),z=e=>{let t=1,s=100,c=100;for(;e>=c;)t++,s=Math.floor(1.15*s),c+=s;const a=e-(c-s);return{currentLevel:t,nextLevelPoints:s,progress:a/s*100,pointsToNextLevel:s-a}},{currentLevel:K,progress:W,pointsToNextLevel:q}=z(O),$=e=>{_(e),setTimeout((()=>_(null)),3e3)},Q=e=>{const t=Math.floor(e/3600),s=Math.floor(e%3600/60),c=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(s.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0"))};Object(c.useEffect)((()=>{const e=async()=>{try{S(!0);const s=await Object(d.f)(Object(d.e)(m,"studyGroups",a));if(s.exists()){var e;const c=s.data();w(c.creator===t.uid),E(c.bannedMembers||[]);const a=(null===(e=c.userPoints)||void 0===e?void 0:e[t.uid])||0;if(h(a),c.members){const e=c.members.map((async e=>{const t=await Object(d.f)(Object(d.e)(m,"users",e));var s;return t.exists()?{uid:e,name:t.data().displayName,photoURL:t.data().photoURL,points:(null===(s=c.userPoints)||void 0===s?void 0:s[e])||0}:null})),t=(await Promise.all(e)).filter(Boolean);t.sort(((e,t)=>t.points-e.points)),v(t)}}}catch(s){console.error("Error fetching group data:",s)}finally{S(!1)}};e();const s=Object(d.i)(Object(d.e)(m,"studyGroups",a),e);return()=>s()}),[a,t.uid]),Object(c.useEffect)((()=>{const e=setInterval((()=>{const e=N.filter((()=>Math.random()>.7)).map((e=>e.uid));I(e)}),1e4);return()=>clearInterval(e)}),[N]),Object(c.useEffect)((()=>{let e;return n&&(e=setInterval((()=>{b((e=>e+1))}),1e3)),()=>clearInterval(e)}),[n]),Object(c.useEffect)((()=>{if(n&&o>0&&o%30===0&&o!==p){const e=O+1;h(e),(async e=>{try{var s;const c=await Object(d.f)(Object(d.e)(m,"studyGroups",a));!c.exists()||null!==(s=c.data().bannedMembers)&&void 0!==s&&s.includes(t.uid)||await Object(d.m)(Object(d.e)(m,"studyGroups",a),{["userPoints.".concat(t.uid)]:e})}catch(c){console.error("Error updating points:",c)}})(e),x(o);const s=z(e);s.currentLevel>K&&$("\ud83c\udf89 \u062a\u0642\u062f\u0645\u062a \u0644\u0644\u0645\u0633\u062a\u0648\u0649 ".concat(s.currentLevel,"!"))}}),[o,n]),Object(c.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("darkMode"));null!==e&&(R(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"));const t=localStorage.getItem("language")||"ar";J(t)}),[]);const V=async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 ".concat(C.includes(e)?"\u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631":"\u062d\u0638\u0631"," \u0647\u0630\u0627 \u0627\u0644\u0639\u0636\u0648\u061f")))try{await Object(d.k)(m,(async s=>{const c=await s.get(Object(d.e)(m,"studyGroups",a));if(!c.exists())throw new Error("\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629");const n=c.data().bannedMembers||[],i=n.includes(e),r={bannedMembers:i?n.filter((t=>t!==e)):[...n,e],banHistory:Object(d.b)({memberId:e,bannedBy:t.uid,timestamp:new Date,action:i?"unban":"ban"})};i||(r["userPoints.".concat(e)]=0),s.update(Object(d.e)(m,"studyGroups",a),r)})),$("\u062a\u0645 ".concat(C.includes(e)?"\u0625\u0644\u063a\u0627\u0621 \u062d\u0638\u0631":"\u062d\u0638\u0631"," \u0627\u0644\u0639\u0636\u0648 \u0628\u0646\u062c\u0627\u062d"))}catch(s){console.error("Error updating banned members:",s),$("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u062d\u062f\u064a\u062b \u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u062d\u0638\u0631")}};return Object(j.jsxs)("div",{className:"timer-container",children:[Object(j.jsxs)("div",{className:"timer-header",children:[Object(j.jsx)("button",{onClick:s,className:"back-button",children:"\u2190 \u0627\u0644\u0639\u0648\u062f\u0629 \u0644\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a"}),Object(j.jsxs)("div",{className:"user-info",onClick:()=>P(!M),children:[Object(j.jsxs)("div",{className:"avatar-container",children:[Object(j.jsx)("img",{src:t.photoURL,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",className:"user-avatar"}),L.includes(t.uid)&&Object(j.jsx)("div",{className:"online-status"})]}),Object(j.jsx)("span",{className:"user-display-name",children:t.displayName}),C.includes(t.uid)&&Object(j.jsx)("span",{className:"banned-warning",children:"(\u062d\u0633\u0627\u0628\u0643 \u0645\u062d\u0638\u0648\u0631)"})]})]}),M&&Object(j.jsxs)("div",{className:"profile-menu",children:[Object(j.jsx)("div",{className:"menu-item",onClick:()=>{U(!0),P(!1)},children:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a"}),Object(j.jsx)("div",{className:"menu-item",onClick:()=>{B(!0),P(!1)},children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"})]}),Object(j.jsxs)("div",{className:"timer-display",children:[Object(j.jsxs)("div",{className:"time-display",children:[Object(j.jsx)("h2",{children:"\u0648\u0642\u062a \u0627\u0644\u0645\u0630\u0627\u0643\u0631\u0629"}),Object(j.jsx)("div",{className:"time",children:Q(o)})]}),Object(j.jsxs)("div",{className:"stats-display",children:[Object(j.jsxs)("div",{className:"stat-box",children:[Object(j.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0646\u0642\u0627\u0637"}),Object(j.jsx)("span",{className:"stat-value",children:O})]}),Object(j.jsxs)("div",{className:"stat-box",children:[Object(j.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0645\u0633\u062a\u0648\u0649"}),Object(j.jsx)("span",{className:"stat-value",children:K})]})]}),Object(j.jsxs)("div",{className:"progress-container",children:[Object(j.jsxs)("div",{className:"progress-label",children:[Object(j.jsxs)("span",{children:["\u0627\u0644\u062a\u0642\u062f\u0645 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 ",K+1]}),Object(j.jsxs)("span",{children:[Math.round(W),"%"]})]}),Object(j.jsx)("div",{className:"progress-bar",children:Object(j.jsx)("div",{className:"progress-fill",style:{width:"".concat(W,"%")}})}),Object(j.jsxs)("div",{className:"progress-text",children:[q," \u0646\u0642\u0637\u0629 \u0645\u062a\u0628\u0642\u064a\u0629 \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a"]})]}),Object(j.jsxs)("div",{className:"timer-controls",children:[Object(j.jsx)("button",{onClick:()=>i(!n),className:"control-button ".concat(n?"pause-button":"start-button"),disabled:C.includes(t.uid),children:n?"\u0625\u064a\u0642\u0627\u0641":"\u0628\u062f\u0621"}),Object(j.jsx)("button",{onClick:()=>{o>0&&((e,t)=>{const s={date:new Date,duration:e,pointsEarned:t};Y((e=>[s,...e].slice(0,10)))})(o,Math.floor(o/30)),i(!1),b(0)},className:"control-button reset-button",children:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646"}),Object(j.jsx)("button",{onClick:()=>y(!g),className:"control-button members-button",children:g?"\u0625\u062e\u0641\u0627\u0621 \u0627\u0644\u0623\u0639\u0636\u0627\u0621":"\u0639\u0631\u0636 \u0627\u0644\u0623\u0639\u0636\u0627\u0621"})]})]}),g&&Object(j.jsxs)("div",{className:"members-sidebar",children:[Object(j.jsx)("h3",{children:"\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"}),k?Object(j.jsxs)("div",{className:"loading-container",children:[Object(j.jsx)("div",{className:"spinner"}),Object(j.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0623\u0639\u0636\u0627\u0621..."})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"leaderboard",children:N.filter((e=>!C.includes(e.uid))).map(((e,s)=>Object(j.jsxs)("div",{className:"member-item ".concat(e.uid===t.uid?"current-user":""),children:[Object(j.jsx)("span",{className:"member-rank",children:s+1}),Object(j.jsxs)("div",{className:"avatar-container",children:[Object(j.jsx)("img",{src:e.photoURL,alt:e.name,className:"member-avatar"}),L.includes(e.uid)&&Object(j.jsx)("div",{className:"online-status"})]}),Object(j.jsxs)("div",{className:"member-info",children:[Object(j.jsx)("span",{className:"member-name",children:e.name}),Object(j.jsxs)("span",{className:"member-points",children:[e.points," \u0646\u0642\u0637\u0629"]})]}),f&&e.uid!==t.uid&&Object(j.jsxs)("div",{className:"member-actions",children:[Object(j.jsx)("button",{onClick:()=>V(e.uid),className:"ban-button",title:C.includes(e.uid)?"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062d\u0638\u0631":"\u062d\u0638\u0631 \u0627\u0644\u0639\u0636\u0648",children:C.includes(e.uid)?"\ud83d\udeab":"\u26d4"}),Object(j.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0627 \u0627\u0644\u0639\u0636\u0648 \u0645\u0646 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f"))try{await Object(d.k)(m,(async t=>{const s=await t.get(Object(d.e)(m,"studyGroups",a));if(!s.exists())throw new Error("\u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u063a\u064a\u0631 \u0645\u0648\u062c\u0648\u062f\u0629");const c=s.data(),n=c.members.filter((t=>t!==e)),i=Object(r.a)({},c.userPoints);delete i[e],t.update(Object(d.e)(m,"studyGroups",a),{members:n,userPoints:i})})),$("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648 \u0628\u0646\u062c\u0627\u062d")}catch(t){console.error("Error removing member:",t),$("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648")}})(e.uid),className:"remove-button",title:"\u062d\u0630\u0641 \u0627\u0644\u0639\u0636\u0648",children:"\u2715"})]})]},e.uid)))}),C.length>0&&Object(j.jsxs)("div",{className:"banned-section",children:[Object(j.jsx)("h4",{children:"\u0627\u0644\u0623\u0639\u0636\u0627\u0621 \u0627\u0644\u0645\u062d\u0638\u0648\u0631\u064a\u0646"}),N.filter((e=>C.includes(e.uid))).map((e=>Object(j.jsxs)("div",{className:"member-item banned-member",children:[Object(j.jsx)("div",{className:"avatar-container",children:Object(j.jsx)("img",{src:e.photoURL,alt:e.name,className:"member-avatar"})}),Object(j.jsxs)("div",{className:"member-info",children:[Object(j.jsx)("span",{className:"member-name",children:e.name}),Object(j.jsx)("span",{className:"banned-label",children:"\u0645\u062d\u0638\u0648\u0631"})]}),f&&Object(j.jsx)("button",{onClick:()=>V(e.uid),className:"unban-button",children:"\u0625\u0644\u063a\u0627\u0621 \u0627\u0644\u062d\u0638\u0631"})]},e.uid)))]})]})]}),G&&Object(j.jsx)("div",{className:"modal-overlay",onClick:()=>U(!1),children:Object(j.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Object(j.jsx)("button",{className:"close-button",onClick:()=>U(!1),children:"\xd7"}),Object(j.jsxs)("div",{className:"profile-header",children:[Object(j.jsx)("img",{src:t.photoURL,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",className:"profile-avatar"}),Object(j.jsx)("h2",{children:t.displayName}),Object(j.jsxs)("p",{className:"user-level",children:["\u0627\u0644\u0645\u0633\u062a\u0648\u0649 ",K]})]}),Object(j.jsxs)("div",{className:"profile-stats",children:[Object(j.jsxs)("div",{className:"stat-row",children:[Object(j.jsx)("span",{className:"stat-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0627\u0644\u0646\u0642\u0627\u0637:"}),Object(j.jsx)("span",{className:"stat-value",children:O})]}),Object(j.jsxs)("div",{className:"stat-row",children:[Object(j.jsx)("span",{className:"stat-label",children:"\u0625\u062c\u0645\u0627\u0644\u064a \u0648\u0642\u062a \u0627\u0644\u062f\u0631\u0627\u0633\u0629:"}),Object(j.jsxs)("span",{className:"stat-value",children:[Math.floor(o/3600)," \u0633\u0627\u0639\u0629"]})]}),Object(j.jsxs)("div",{className:"stat-row",children:[Object(j.jsx)("span",{className:"stat-label",children:"\u0627\u0644\u0646\u0642\u0627\u0637 \u0644\u0644\u0648\u0635\u0648\u0644 \u0644\u0644\u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u062a\u0627\u0644\u064a:"}),Object(j.jsx)("span",{className:"stat-value",children:q})]})]}),H.length>0&&Object(j.jsxs)("div",{className:"sessions-history",children:[Object(j.jsx)("h3",{children:"\u0622\u062e\u0631 \u062c\u0644\u0633\u0627\u062a \u0627\u0644\u062f\u0631\u0627\u0633\u0629"}),Object(j.jsx)("div",{className:"sessions-list",children:H.map(((e,t)=>Object(j.jsxs)("div",{className:"session-item",children:[Object(j.jsx)("span",{className:"session-date",children:new Date(e.date).toLocaleDateString()}),Object(j.jsx)("span",{className:"session-duration",children:Q(e.duration)}),Object(j.jsxs)("span",{className:"session-points",children:["+",e.pointsEarned," \u0646\u0642\u0637\u0629"]})]},t)))})]})]})}),D&&Object(j.jsx)("div",{className:"modal-overlay",onClick:()=>B(!1),children:Object(j.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Object(j.jsx)("button",{className:"close-button",onClick:()=>B(!1),children:"\xd7"}),Object(j.jsx)("h2",{children:"\u0627\u0644\u0625\u0639\u062f\u0627\u062f\u0627\u062a"}),Object(j.jsxs)("div",{className:"settings-option",children:[Object(j.jsx)("span",{children:"\u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645:"}),Object(j.jsxs)("label",{className:"switch",children:[Object(j.jsx)("input",{type:"checkbox",checked:A,onChange:()=>{const e=!A;R(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("darkMode",JSON.stringify(e)),$(e?"\u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645":"\u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d")}}),Object(j.jsx)("span",{className:"slider round"})]})]}),Object(j.jsxs)("div",{className:"settings-option",children:[Object(j.jsx)("span",{children:"\u0627\u0644\u0644\u063a\u0629:"}),Object(j.jsxs)("select",{value:T,onChange:e=>{return t=e.target.value,J(t),localStorage.setItem("language",t),void $("ar"===t?"\u062a\u0645 \u062a\u063a\u064a\u064a\u0631 \u0627\u0644\u0644\u063a\u0629 \u0625\u0644\u0649 \u0627\u0644\u0639\u0631\u0628\u064a\u0629":"Language changed to English");var t},className:"language-select",children:[Object(j.jsx)("option",{value:"ar",children:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629"}),Object(j.jsx)("option",{value:"en",children:"English"})]})]}),Object(j.jsx)("button",{className:"logout-button",onClick:()=>{Object(l.e)(u),B(!1)},children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"})]})}),F&&Object(j.jsx)("div",{className:"notification",children:F})]})}var h=function(){const[e,t]=Object(c.useState)(null),[s,a]=Object(c.useState)(""),[n,i]=Object(c.useState)([]),[o,b]=Object(c.useState)(!1),[h,p]=Object(c.useState)(null),[x,N]=Object(c.useState)(!1),[v,g]=Object(c.useState)(""),[y,f]=Object(c.useState)(!1),[w,k]=Object(c.useState)("ar"),[S,C]=Object(c.useState)(null),E=e=>{C(e),setTimeout((()=>C(null)),3e3)};Object(c.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("darkMode"));null!==e&&(f(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"))}),[]),Object(c.useEffect)((()=>{const e=Object(l.c)(u,(async e=>{e?(await Object(d.l)(Object(d.e)(m,"users",e.uid),{displayName:e.displayName,photoURL:e.photoURL,email:e.email,lastLogin:new Date},{merge:!0}),t(e),await L(e.uid)):(t(null),i([]),p(null))}));return()=>e()}),[]);const L=async e=>{b(!0);try{const t=Object(d.j)(Object(d.c)(m,"studyGroups"),Object(d.n)("members","array-contains",e)),s=await Object(d.g)(t),c=s.docs.map((async t=>{var s;const c=t.data();if(null!==(s=c.bannedMembers)&&void 0!==s&&s.includes(e))return null;const a=await Object(d.f)(Object(d.e)(m,"users",c.creator)),n=a.exists()?a.data().displayName:"\u0645\u0633\u062a\u062e\u062f\u0645 \u063a\u064a\u0631 \u0645\u0639\u0631\u0648\u0641";return Object(r.a)(Object(r.a)({id:t.id},c),{},{creatorName:n,code:t.id.slice(0,6).toUpperCase(),isCreator:c.creator===e})})),a=(await Promise.all(c)).filter(Boolean);i(a),h&&!a.some((e=>e.id===h))&&p(null)}catch(t){console.error("Error fetching user groups:",t),E("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062c\u0644\u0628 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a")}finally{b(!1)}},I=async()=>{if(s.trim())try{const t={name:s.trim(),createdAt:new Date,creator:e.uid,members:[e.uid],userPoints:{[e.uid]:0},bannedMembers:[]};await Object(d.a)(Object(d.c)(m,"studyGroups"),t),a(""),E('\u062a\u0645 \u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629 "'.concat(s.trim(),'" \u0628\u0646\u062c\u0627\u062d')),await L(e.uid)}catch(t){console.error("Error adding group:",t),E("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}else E("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")},M=()=>{p(null)};return h&&e?Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(O,{user:e,onBack:M,groupId:h})}):Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("button",{onClick:()=>{const e=!y;f(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"),localStorage.setItem("darkMode",JSON.stringify(e)),E(e?"\u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0645\u0638\u0644\u0645":"\u062a\u0645 \u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d")},className:"theme-toggle","aria-label":y?"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u0641\u0627\u062a\u062d":"\u062a\u0641\u0639\u064a\u0644 \u0627\u0644\u0648\u0636\u0639 \u0627\u0644\u063a\u0627\u0645\u0642",children:y?"\u2600\ufe0f":"\ud83c\udf19"}),Object(j.jsxs)("header",{className:"App-header",children:[Object(j.jsx)("div",{className:"login-container",children:e?Object(j.jsx)("div",{className:"user-welcome",children:Object(j.jsxs)("div",{className:"user-info",children:[Object(j.jsx)("img",{src:e.photoURL,alt:"\u0635\u0648\u0631\u0629 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645",className:"user-avatar"}),Object(j.jsxs)("div",{className:"user-details",children:[Object(j.jsxs)("h2",{children:["\u0645\u0631\u062d\u0628\u0627\u064b ",e.displayName,"!"]}),Object(j.jsx)("button",{className:"logout-button",onClick:async()=>{try{await Object(l.e)(u),E("\u062a\u0645 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c \u0628\u0646\u062c\u0627\u062d")}catch(e){console.error("Error signing out:",e)}},children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c"})]})]})}):Object(j.jsxs)("div",{className:"welcome-screen",children:[Object(j.jsx)("h1",{children:"\u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0627\u0644\u062f\u0631\u0627\u0633\u0629 \u0627\u0644\u062a\u0639\u0627\u0648\u0646\u064a\u0629"}),Object(j.jsx)("p",{children:"\u0627\u0646\u0636\u0645 \u0625\u0644\u0649 \u0645\u062c\u062a\u0645\u0639 \u0627\u0644\u0645\u0630\u0627\u0643\u0631\u0629 \u0645\u0639 \u0627\u0644\u0623\u0635\u062f\u0642\u0627\u0621 \u0648\u062d\u0642\u0642 \u0623\u0647\u062f\u0627\u0641\u0643 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u064a\u0629"}),Object(j.jsx)("button",{className:"login-button",onClick:async()=>{const e=new l.a;try{const t=await Object(l.d)(u,e);E("\u0645\u0631\u062d\u0628\u0627\u064b ".concat(t.user.displayName,"!"))}catch(t){console.error("Error signing in:",t),E("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644")}},children:Object(j.jsx)("span",{children:"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 Google"})})]})}),e&&Object(j.jsxs)("div",{className:"group-management",children:[Object(j.jsxs)("div",{className:"group-creation",children:[Object(j.jsx)("h2",{children:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629 \u062c\u062f\u064a\u062f\u0629"}),Object(j.jsxs)("div",{className:"input-group",children:[Object(j.jsx)("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0627\u0633\u0645 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",onKeyPress:e=>"Enter"===e.key&&I()}),Object(j.jsx)("button",{className:"create-button",onClick:I,children:"\u0625\u0646\u0634\u0627\u0621"})]})]}),Object(j.jsxs)("div",{className:"join-group",children:[Object(j.jsx)("h2",{children:"\u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0625\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0629"}),Object(j.jsx)("button",{className:"join-button",onClick:()=>N(!0),children:"\u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0628\u0645\u062c\u0645\u0648\u0639\u0629 \u0645\u0648\u062c\u0648\u062f\u0629"})]})]}),e&&Object(j.jsxs)("div",{className:"study-groups",children:[Object(j.jsx)("h2",{children:"\u0645\u062c\u0645\u0648\u0639\u0627\u062a\u0643 \u0627\u0644\u062f\u0631\u0627\u0633\u064a\u0629"}),o?Object(j.jsxs)("div",{className:"loading-container",children:[Object(j.jsx)("div",{className:"spinner"}),Object(j.jsx)("p",{children:"\u062c\u0627\u0631\u064a \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0627\u062a..."})]}):0===n.length?Object(j.jsxs)("div",{className:"empty-state",children:[Object(j.jsx)("img",{src:"/empty-groups.svg",alt:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0627\u062a",className:"empty-image"}),Object(j.jsx)("p",{children:"\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0627\u062a \u0645\u062a\u0627\u062d\u0629 \u062d\u0627\u0644\u064a\u0627\u064b"}),Object(j.jsx)("button",{className:"create-button",onClick:()=>document.querySelector(".group-creation input").focus(),children:"\u0625\u0646\u0634\u0627\u0621 \u0645\u062c\u0645\u0648\u0639\u0629 \u062c\u062f\u064a\u062f\u0629"})]}):Object(j.jsx)("div",{className:"groups-grid",children:n.map((t=>Object(j.jsxs)("div",{id:"group-".concat(t.id),className:"group-card",children:[Object(j.jsxs)("div",{className:"group-content",children:[Object(j.jsx)("h3",{className:"group-name",children:t.name}),Object(j.jsxs)("p",{className:"group-meta",children:[Object(j.jsxs)("span",{className:"group-creator",children:["\u0627\u0644\u0645\u0646\u0634\u0626: ",t.creatorName]}),Object(j.jsxs)("span",{className:"group-code",children:["\u0643\u0648\u062f: ",t.code]})]}),t.isCreator&&Object(j.jsx)("span",{className:"creator-badge",children:"\u0623\u0646\u062a \u0627\u0644\u0645\u0646\u0634\u0626"})]}),Object(j.jsxs)("div",{className:"group-actions",children:[Object(j.jsx)("button",{onClick:()=>{return e=t.id,void p(e);var e},className:"join-button",children:"\u062f\u062e\u0648\u0644 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"}),t.isCreator&&Object(j.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629\u061f \u0633\u064a\u062a\u0645 \u062d\u0630\u0641 \u062c\u0645\u064a\u0639 \u0628\u064a\u0627\u0646\u0627\u062a\u0647\u0627 \u0646\u0647\u0627\u0626\u064a\u0627\u064b"))try{const s=document.getElementById("group-".concat(t));s&&(s.style.transform="scale(0.9)",s.style.opacity="0.5",s.style.transition="all 0.3s ease",s.style.animation="shake 0.5s",await new Promise((e=>setTimeout(e,500)))),await Object(d.d)(Object(d.e)(m,"studyGroups",t)),E("\u062a\u0645 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0628\u0646\u062c\u0627\u062d"),await L(e.uid)}catch(s){console.error("Error deleting group:",s),E("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}})(t.id),className:"delete-button",children:"\u062d\u0630\u0641 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629"})]})]},t.id)))})]}),x&&Object(j.jsx)("div",{className:"modal-overlay",onClick:()=>N(!1),children:Object(j.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[Object(j.jsx)("button",{className:"close-button",onClick:()=>N(!1),children:"\xd7"}),Object(j.jsx)("h2",{children:"\u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0625\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0629"}),Object(j.jsx)("p",{children:"\u0623\u062f\u062e\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 \u0627\u0644\u0645\u0643\u0648\u0646 \u0645\u0646 6 \u0623\u062d\u0631\u0641"}),Object(j.jsx)("input",{type:"text",value:v,onChange:e=>g(e.target.value),placeholder:"\u0623\u062f\u062e\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629",maxLength:6,className:"join-input"}),Object(j.jsxs)("div",{className:"modal-actions",children:[Object(j.jsx)("button",{onClick:async()=>{if(v.trim())try{const s=Object(d.c)(m,"studyGroups"),c=await Object(d.g)(s);let a=null;if(c.forEach((e=>{const t=e.id.slice(0,6).toUpperCase();t===v.toUpperCase().trim()&&(a=Object(r.a)(Object(r.a)({id:e.id},e.data()),{},{code:t}))})),a){var t;if(null!==(t=a.bannedMembers)&&void 0!==t&&t.includes(e.uid))return void E("\u0623\u0646\u062a \u0645\u062d\u0638\u0648\u0631 \u0645\u0646 \u0647\u0630\u0647 \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629 (".concat(a.name,")"));if(a.members&&a.members.includes(e.uid))return p(a.id),N(!1),void g("");await Object(d.m)(Object(d.e)(m,"studyGroups",a.id),{["userPoints.".concat(e.uid)]:0,members:[...a.members||[],e.uid]}),p(a.id),N(!1),g(""),E('\u062a\u0645 \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0625\u0644\u0649 \u0645\u062c\u0645\u0648\u0639\u0629 "'.concat(a.name,'"')),await L(e.uid)}else E("\u0644\u0627 \u062a\u0648\u062c\u062f \u0645\u062c\u0645\u0648\u0639\u0629 \u0628\u0647\u0630\u0627 \u0627\u0644\u0643\u0648\u062f")}catch(s){console.error("Error joining group:",s),E("\u062d\u062f\u062b \u062e\u0637\u0623 \u0623\u062b\u0646\u0627\u0621 \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645 \u0644\u0644\u0645\u062c\u0645\u0648\u0639\u0629")}else E("\u0627\u0644\u0631\u062c\u0627\u0621 \u0625\u062f\u062e\u0627\u0644 \u0643\u0648\u062f \u0627\u0644\u0645\u062c\u0645\u0648\u0639\u0629")},className:"confirm-button",children:"\u062a\u0623\u0643\u064a\u062f \u0627\u0644\u0627\u0646\u0636\u0645\u0627\u0645"}),Object(j.jsx)("button",{onClick:()=>N(!1),className:"cancel-button",children:"\u0625\u0644\u063a\u0627\u0621"})]})]})}),S&&Object(j.jsx)("div",{className:"notification",children:S}),Object(j.jsx)("footer",{className:"app-footer",children:Object(j.jsxs)("p",{children:["\u062a\u0645 \u062a\u0637\u0648\u064a\u0631\u0647 \u0628\u0648\u0627\u0633\u0637\u0629 \u0645\u062d\u0645\u062f \u0623\u0628\u0648 \u0637\u0628\u064a\u062e \xa9 ",(new Date).getFullYear()]})})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=e=>{e&&"function"===typeof e&&s.e(3).then(s.bind(null,29)).then((t=>{let{getCLS:s,getFID:c,getFCP:a,getLCP:n,getTTFB:i}=t;s(e),c(e),a(e),n(e),i(e)})).catch((e=>{console.log("Error importing web-vitals:",e)}))};i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(h,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((e=>{e.unregister()})).catch((e=>{console.error(e.message)})),p()}},[[28,1,2]]]);
//# sourceMappingURL=main.3cd3088f.chunk.js.map