{"version":3,"sources":["App.js","serviceWorkerRegistration.js","reportWebVitals.js","index.js"],"names":["app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","db","getFirestore","auth","getAuth","Timer","_ref","user","onBack","groupId","isRunning","setIsRunning","useState","time","setTime","points","setPoints","lastUpdateTime","setLastUpdateTime","members","setMembers","showMembers","setShowMembers","isCreator","setIsCreator","loadingMembers","setLoadingMembers","bannedMembers","setBannedMembers","onlineUsers","setOnlineUsers","darkMode","setDarkMode","language","setLanguage","notification","setNotification","studySessions","setStudySessions","activeTab","setActiveTab","sideMenuOpen","setSideMenuOpen","inventory","setInventory","activeEffects","setActiveEffects","hoveredItem","setHoveredItem","hoveredAvatar","setHoveredAvatar","calculateLevel","level","requiredPoints","totalPointsNeeded","Math","floor","pointsForCurrentLevel","currentLevel","nextLevelPoints","progress","pointsToNextLevel","currentBadge","badges","name","icon","color","bgColor","Object","keys","map","Number","filter","lvl","sort","a","b","getBadge","changeLanguage","lang","localStorage","setItem","showNotification","message","setTimeout","formatTime","seconds","hrs","mins","secs","concat","toString","padStart","useEffect","fetchGroupData","async","groupDoc","getDoc","doc","exists","_groupData$userPoints","groupData","data","creator","uid","userPoints","membersPromises","userDoc","_groupData$userPoints2","displayName","photoURL","membersList","Promise","all","Boolean","error","console","unsubscribe","onSnapshot","interval","setInterval","randomOnline","random","member","clearInterval","prev","newTime","addStudySession","duration","pointsEarned","newSession","date","Date","slice","newPoints","_groupDoc$data$banned","includes","updateDoc","updatePoints","newLevelData","savedMode","JSON","parse","getItem","document","documentElement","setAttribute","savedLang","toggleBanMember","window","confirm","memberId","runTransaction","transaction","get","Error","currentBanned","isBanned","updates","id","banHistory","arrayUnion","bannedBy","timestamp","action","update","toggleMembersSidebar","_jsxs","className","children","_jsx","onClick","style","backgroundColor","borderLeft","type","checked","onChange","toggleDarkMode","newMode","stringify","round","width","disabled","resetTimer","src","alt","length","session","index","toLocaleDateString","description","price","effect","hoverEffect","item","borderColor","onMouseEnter","onMouseLeave","purchaseItem","_Fragment","title","updatedMembers","m","updatedUserPoints","_objectSpread","removeMember","App","setUser","groupName","setGroupName","groups","setGroups","loadingGroups","setLoadingGroups","selectedGroup","setSelectedGroup","showJoinModal","setShowJoinModal","joinCode","setJoinCode","onAuthStateChanged","currentUser","setDoc","email","lastLogin","merge","fetchUserGroups","q","query","collection","where","userId","querySnapshot","getDocs","groupsPromises","docs","_groupData$bannedMemb","docSnap","creatorDoc","creatorName","code","toUpperCase","some","g","addStudyGroup","trim","newGroup","createdAt","addDoc","handleBackToGroups","signOut","provider","GoogleAuthProvider","result","signInWithPopup","value","e","target","placeholder","onKeyPress","key","querySelector","focus","group","handleJoinGroup","groupItem","getElementById","transform","opacity","transition","animation","resolve","deleteDoc","deleteGroup","stopPropagation","maxLength","allGroupsQuery","allGroupsSnapshot","groupToJoin","forEach","groupCode","_groupToJoin$bannedMe","getFullYear","location","hostname","match","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","catch","log","caches","cacheNames","cacheName","delete","ReactDOM","render","React","StrictMode","navigator","serviceWorker","ready","registration","unregister","baseUrl","pathname","startsWith","history","replaceState"],"mappings":"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","file":"static/js/main.0f7d5ba8.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from 'firebase/auth';\nimport { initializeApp } from 'firebase/app';\nimport { getFirestore, collection, addDoc, getDocs, deleteDoc, doc, updateDoc, getDoc, query, where, setDoc, onSnapshot, runTransaction, arrayUnion } from 'firebase/firestore';\nimport './App.css';\n\n// Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDoLr3Dnb5YbCnUtTexaz84YOH5h8Ukfoc\",\n  authDomain: \"frist-b073a.firebaseapp.com\",\n  projectId: \"frist-b073a\",\n  storageBucket: \"frist-b073a.appspot.com\",\n  messagingSenderId: \"580630150830\",\n  appId: \"1:580630150830:web:815ba6942a64909329b73f\",\n  measurementId: \"G-GH3D6EMB6L\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst db = getFirestore(app);\nconst auth = getAuth(app);\n\nfunction Timer({ user, onBack, groupId }) {\n  const [isRunning, setIsRunning] = useState(false);\n  const [time, setTime] = useState(0);\n  const [points, setPoints] = useState(0);\n  const [lastUpdateTime, setLastUpdateTime] = useState(0);\n  const [members, setMembers] = useState([]);\n  const [showMembers, setShowMembers] = useState(false);\n  const [isCreator, setIsCreator] = useState(false);\n  const [loadingMembers, setLoadingMembers] = useState(true);\n  const [bannedMembers, setBannedMembers] = useState([]);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const [darkMode, setDarkMode] = useState(false);\n  const [language, setLanguage] = useState('ar');\n  const [notification, setNotification] = useState(null);\n  const [studySessions, setStudySessions] = useState([]);\n  const [activeTab, setActiveTab] = useState('timer');\n  const [sideMenuOpen, setSideMenuOpen] = useState(false);\n  const [inventory, setInventory] = useState([]);\n  const [activeEffects, setActiveEffects] = useState([]);\n  const [hoveredItem, setHoveredItem] = useState(null);\n  const [hoveredAvatar, setHoveredAvatar] = useState(null);\n\n  // Calculate user level with exponential growth\n  const calculateLevel = (points) => {\n    const base = 100;\n    const growthFactor = 1.15;\n    \n    let level = 1;\n    let requiredPoints = base;\n    let totalPointsNeeded = base;\n    \n    while (points >= totalPointsNeeded) {\n      level++;\n      requiredPoints = Math.floor(requiredPoints * growthFactor);\n      totalPointsNeeded += requiredPoints;\n    }\n    \n    const pointsForCurrentLevel = points - (totalPointsNeeded - requiredPoints);\n    \n    return {\n      currentLevel: level,\n      nextLevelPoints: requiredPoints,\n      progress: (pointsForCurrentLevel / requiredPoints) * 100,\n      pointsToNextLevel: requiredPoints - pointsForCurrentLevel\n    };\n  };\n\n  const { currentLevel, progress, pointsToNextLevel } = calculateLevel(points);\n\n  // نظام الشعارات\n  const getBadge = (level) => {\n    const badges = {\n      1: { name: \"البذرة\", icon: \"🌱\", color: \"var(--secondary-color)\", bgColor: \"rgba(16, 185, 129, 0.1)\" },\n      5: { name: \"المتدرب\", icon: \"📖\", color: \"var(--primary-color)\", bgColor: \"rgba(79, 70, 229, 0.1)\" },\n      10: { name: \"المجتهد\", icon: \"🎓\", color: \"var(--warning-color)\", bgColor: \"rgba(245, 158, 11, 0.1)\" },\n      20: { name: \"الخبير\", icon: \"🔍\", color: \"var(--accent-color)\", bgColor: \"rgba(239, 68, 68, 0.1)\" },\n      30: { name: \"العبقري\", icon: \"🧠\", color: \"var(--primary-dark)\", bgColor: \"rgba(67, 56, 202, 0.1)\" },\n      50: { name: \"الأسطورة\", icon: \"🏆\", color: \"var(--warning-dark)\", bgColor: \"rgba(217, 119, 6, 0.1)\" },\n      100: { name: \"رائد المعرفة\", icon: \"🚀\", color: \"var(--secondary-dark)\", bgColor: \"rgba(5, 150, 105, 0.1)\" }\n    };\n    \n    const eligibleLevels = Object.keys(badges)\n      .map(Number)\n      .filter(lvl => level >= lvl)\n      .sort((a, b) => b - a);\n    \n    return badges[eligibleLevels[0]] || badges[1];\n  };\n\n  const currentBadge = getBadge(currentLevel);\n\n  // نظام المتجر مع إضافة الوصف\n  const shopItems = [\n    { \n      id: \"boost\", \n      name: \"دفعة النجاح\", \n      description: \"يحقق ضعف النقاط لمدة 30 دقيقة\",\n      price: 400, \n      icon: \"⚡\", \n      effect: \"double_points\", \n      color: \"var(--warning-color)\",\n      bgColor: \"rgba(245, 158, 11, 0.1)\",\n      hoverEffect: \"glow\"\n    },\n    { \n      id: \"focus\", \n      name: \"معزز التركيز\", \n      description: \"يزيد سرعة تحصيل النقاط بنسبة 50% لمدة ساعة\",\n      price: 300, \n      icon: \"🧠\", \n      effect: \"speed_boost\", \n      color: \"var(--primary-color)\",\n      bgColor: \"rgba(79, 70, 229, 0.1)\",\n      hoverEffect: \"pulse\"\n    },\n    { \n      id: \"crown\", \n      name: \"التاج الذهبي\", \n      description: \"يظهر تاج ذهبي بجانب اسمك في لوحة المتصدرين\",\n      price: 600, \n      icon: \"👑\", \n      effect: \"golden_crown\", \n      color: \"var(--warning-dark)\",\n      bgColor: \"rgba(217, 119, 6, 0.1)\",\n      hoverEffect: \"float\"\n    },\n    { \n      id: \"shield\", \n      name: \"حافظة النقاط\", \n      description: \"يحمي نقاطك من الخسارة لمدة 24 ساعة\",\n      price: 350, \n      icon: \"🛡️\", \n      effect: \"points_shield\", \n      color: \"var(--secondary-color)\",\n      bgColor: \"rgba(16, 185, 129, 0.1)\",\n      hoverEffect: \"shake\"\n    }\n  ];\n\n  const purchaseItem = async (item) => {\n    if (points >= item.price) {\n      try {\n        await runTransaction(db, async (transaction) => {\n          const userDoc = await transaction.get(doc(db, \"users\", user.uid));\n          transaction.update(doc(db, \"users\", user.uid), {\n            points: userDoc.data().points - item.price,\n            inventory: arrayUnion(item.id)\n          });\n        });\n        showNotification(`🎉 تم شراء ${item.name}!`);\n        setInventory([...inventory, item.id]);\n      } catch (error) {\n        console.error(\"Error purchasing item:\", error);\n        showNotification(\"⚠️ حدث خطأ أثناء الشراء\");\n      }\n    } else {\n      showNotification(\"❌ نقاطك غير كافية!\");\n    }\n  };\n\n  // Toggle dark/light theme\n  const toggleDarkMode = () => {\n    const newMode = !darkMode;\n    setDarkMode(newMode);\n    document.documentElement.setAttribute('data-theme', newMode ? 'dark' : 'light');\n    localStorage.setItem('darkMode', JSON.stringify(newMode));\n    showNotification(newMode ? '🌙 تم تفعيل الوضع المظلم' : '☀️ تم تفعيل الوضع الفاتح');\n  };\n\n  // Change language\n  const changeLanguage = (lang) => {\n    setLanguage(lang);\n    localStorage.setItem('language', lang);\n    showNotification(lang === 'ar' ? '🇸🇦 تم تغيير اللغة إلى العربية' : '🇬🇧 Language changed to English');\n  };\n\n  // Show notification\n  const showNotification = (message) => {\n    setNotification(message);\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  // Format time as HH:MM:SS\n  const formatTime = (seconds) => {\n    const hrs = Math.floor(seconds / 3600);\n    const mins = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    \n    return `${hrs.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  // Add study session to history\n  const addStudySession = (duration, pointsEarned) => {\n    const newSession = {\n      date: new Date(),\n      duration,\n      pointsEarned\n    };\n    setStudySessions(prev => [newSession, ...prev].slice(0, 10));\n  };\n\n  // Update points in Firestore\n  const updatePoints = async (newPoints) => {\n    try {\n      const groupDoc = await getDoc(doc(db, \"studyGroups\", groupId));\n      if (groupDoc.exists() && !groupDoc.data().bannedMembers?.includes(user.uid)) {\n        await updateDoc(doc(db, \"studyGroups\", groupId), {\n          [`userPoints.${user.uid}`]: newPoints\n        });\n      }\n    } catch (error) {\n      console.error(\"Error updating points:\", error);\n    }\n  };\n\n  // Fetch group data\n  useEffect(() => {\n    const fetchGroupData = async () => {\n      try {\n        setLoadingMembers(true);\n        const groupDoc = await getDoc(doc(db, \"studyGroups\", groupId));\n        if (groupDoc.exists()) {\n          const groupData = groupDoc.data();\n          setIsCreator(groupData.creator === user.uid);\n          setBannedMembers(groupData.bannedMembers || []);\n          \n          const userPoints = groupData.userPoints?.[user.uid] || 0;\n          setPoints(userPoints);\n          \n          if (groupData.members) {\n            const membersPromises = groupData.members.map(async (uid) => {\n              const userDoc = await getDoc(doc(db, \"users\", uid));\n              if (userDoc.exists()) {\n                return {\n                  uid,\n                  name: userDoc.data().displayName,\n                  photoURL: userDoc.data().photoURL,\n                  points: groupData.userPoints?.[uid] || 0\n                };\n              }\n              return null;\n            });\n            \n            const membersList = (await Promise.all(membersPromises)).filter(Boolean);\n            membersList.sort((a, b) => b.points - a.points);\n            setMembers(membersList);\n          }\n        }\n      } catch (error) {\n        console.error(\"Error fetching group data:\", error);\n      } finally {\n        setLoadingMembers(false);\n      }\n    };\n    \n    fetchGroupData();\n    \n    const unsubscribe = onSnapshot(doc(db, \"studyGroups\", groupId), fetchGroupData);\n    return () => unsubscribe();\n  }, [groupId, user.uid]);\n\n  // Simulate online users\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const randomOnline = members\n        .filter(() => Math.random() > 0.7)\n        .map(member => member.uid);\n      setOnlineUsers(randomOnline);\n    }, 10000);\n\n    return () => clearInterval(interval);\n  }, [members]);\n\n  // Timer logic with auto-save\n  useEffect(() => {\n    let interval;\n    if (isRunning) {\n      interval = setInterval(() => {\n        setTime(prev => {\n          const newTime = prev + 1;\n          // Auto-save every 30 seconds\n          if (newTime % 30 === 0) {\n            addStudySession(newTime, Math.floor(newTime / 30));\n          }\n          return newTime;\n        });\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [isRunning]);\n\n  // Points and level up logic\n  useEffect(() => {\n    if (isRunning && time > 0 && time % 30 === 0 && time !== lastUpdateTime) {\n      const newPoints = points + 1;\n      setPoints(newPoints);\n      updatePoints(newPoints);\n      setLastUpdateTime(time);\n      \n      // Check for level up\n      const newLevelData = calculateLevel(newPoints);\n      if (newLevelData.currentLevel > currentLevel) {\n        showNotification(`🎉 تقدمت للمستوى ${newLevelData.currentLevel}!`);\n      }\n    }\n  }, [time, isRunning]);\n\n  // Load theme and language preferences\n  useEffect(() => {\n    const savedMode = JSON.parse(localStorage.getItem('darkMode'));\n    if (savedMode !== null) {\n      setDarkMode(savedMode);\n      document.documentElement.setAttribute('data-theme', savedMode ? 'dark' : 'light');\n    }\n\n    const savedLang = localStorage.getItem('language') || 'ar';\n    setLanguage(savedLang);\n  }, []);\n\n  // Remove member from group\n  const removeMember = async (memberId) => {\n    if (window.confirm(`هل أنت متأكد من حذف هذا العضو من المجموعة؟`)) {\n      try {\n        await runTransaction(db, async (transaction) => {\n          const groupDoc = await transaction.get(doc(db, \"studyGroups\", groupId));\n          if (!groupDoc.exists()) throw new Error(\"المجموعة غير موجودة\");\n          \n          const groupData = groupDoc.data();\n          const updatedMembers = groupData.members.filter(m => m !== memberId);\n          const updatedUserPoints = {...groupData.userPoints};\n          delete updatedUserPoints[memberId];\n          \n          transaction.update(doc(db, \"studyGroups\", groupId), {\n            members: updatedMembers,\n            userPoints: updatedUserPoints\n          });\n        });\n        showNotification(\"✅ تم حذف العضو بنجاح\");\n      } catch (error) {\n        console.error(\"Error removing member:\", error);\n        showNotification(\"❌ حدث خطأ أثناء حذف العضو\");\n      }\n    }\n  };\n\n  // Ban/unban member\n  const toggleBanMember = async (memberId) => {\n    if (window.confirm(`هل أنت متأكد من ${bannedMembers.includes(memberId) ? 'إلغاء حظر' : 'حظر'} هذا العضو؟`)) {\n      try {\n        await runTransaction(db, async (transaction) => {\n          const groupDoc = await transaction.get(doc(db, \"studyGroups\", groupId));\n          if (!groupDoc.exists()) throw new Error(\"المجموعة غير موجودة\");\n          \n          const groupData = groupDoc.data();\n          const currentBanned = groupData.bannedMembers || [];\n          const isBanned = currentBanned.includes(memberId);\n          \n          const updatedBanned = isBanned \n            ? currentBanned.filter(id => id !== memberId)\n            : [...currentBanned, memberId];\n          \n          const updates = {\n            bannedMembers: updatedBanned,\n            banHistory: arrayUnion({\n              memberId: memberId,\n              bannedBy: user.uid,\n              timestamp: new Date(),\n              action: isBanned ? \"unban\" : \"ban\"\n            })\n          };\n          \n          if (!isBanned) {\n            updates[`userPoints.${memberId}`] = 0;\n          }\n          \n          transaction.update(doc(db, \"studyGroups\", groupId), updates);\n        });\n        \n        showNotification(`✅ تم ${bannedMembers.includes(memberId) ? 'إلغاء حظر' : 'حظر'} العضو بنجاح`);\n      } catch (error) {\n        console.error(\"Error updating banned members:\", error);\n        showNotification(\"❌ حدث خطأ أثناء تحديث قائمة الحظر\");\n      }\n    }\n  };\n\n  // Reset timer without saving\n  const resetTimer = () => {\n    setIsRunning(false);\n    setTime(0);\n    showNotification(\"⏱ تم إعادة ضبط المؤقت\");\n  };\n\n  // Toggle members sidebar\n  const toggleMembersSidebar = () => {\n    setShowMembers(prev => !prev);\n  };\n\n  return (\n    <div className=\"app-container\">\n      {/* Top Navigation */}\n      <div className=\"top-tabs\">\n        <button \n          className=\"menu-toggle\" \n          onClick={() => setSideMenuOpen(!sideMenuOpen)}\n          aria-label=\"قائمة\"\n        >\n          ☰\n        </button>\n        \n        <div className=\"main-tabs\">\n          <button \n            className={`tab-button ${activeTab === 'timer' ? 'active' : ''}`}\n            onClick={() => setActiveTab('timer')}\n          >\n            <span className=\"tab-icon\">⏱️</span>\n            <span className=\"tab-label\">المؤقت</span>\n          </button>\n          <button \n            className={`tab-button ${activeTab === 'profile' ? 'active' : ''}`}\n            onClick={() => setActiveTab('profile')}\n          >\n            <span className=\"tab-icon\">👤</span>\n            <span className=\"tab-label\">الملف الشخصي</span>\n          </button>\n          <button \n            className={`tab-button ${activeTab === 'shop' ? 'active' : ''}`}\n            onClick={() => setActiveTab('shop')}\n          >\n            <span className=\"tab-icon\">🛒</span>\n            <span className=\"tab-label\">المتجر</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Side Menu */}\n      <div className={`side-menu ${sideMenuOpen ? 'open' : ''}`}>\n        <button \n          className=\"close-menu\" \n          onClick={() => setSideMenuOpen(false)}\n          aria-label=\"إغلاق القائمة\"\n        >\n          ✕\n        </button>\n        \n        <div className=\"menu-section\">\n          <h3>مجموعاتك</h3>\n          <button \n            onClick={onBack} \n            className=\"back-button\"\n          >\n            ← العودة للمجموعات\n          </button>\n        </div>\n        \n        <div className=\"menu-section\">\n          <h3>إنجازاتك</h3>\n          <div \n            className=\"badge-display\" \n            style={{ \n              backgroundColor: currentBadge.bgColor,\n              borderLeft: `4px solid ${currentBadge.color}`\n            }}\n          >\n            <span \n              className=\"badge-icon\"\n              style={{ color: currentBadge.color }}\n            >\n              {currentBadge.icon}\n            </span>\n            <div className=\"badge-info\">\n              <span className=\"badge-name\" style={{ color: currentBadge.color }}>\n                {currentBadge.name}\n              </span>\n              <span className=\"badge-level\" style={{ color: currentBadge.color }}>\n                المستوى {currentLevel}\n              </span>\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"menu-section\">\n          <h3>الإعدادات</h3>\n          <div className=\"settings-option\">\n            <span>الوضع المظلم:</span>\n            <label className=\"switch\">\n              <input \n                type=\"checkbox\" \n                checked={darkMode} \n                onChange={toggleDarkMode}\n              />\n              <span className=\"slider round\"></span>\n            </label>\n          </div>\n          \n          <div className=\"settings-option\">\n            <span>اللغة:</span>\n            <div className=\"language-buttons\">\n              <button \n                className={`language-button ${language === 'ar' ? 'active' : ''}`}\n                onClick={() => changeLanguage('ar')}\n              >\n                العربية\n              </button>\n              <button \n                className={`language-button ${language === 'en' ? 'active' : ''}`}\n                onClick={() => changeLanguage('en')}\n              >\n                English\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"main-content\">\n        {activeTab === 'timer' && (\n          <div className=\"timer-container\">\n            <div className=\"time-display\">\n              <h2>وقت المذاكرة</h2>\n              <div className=\"time\">{formatTime(time)}</div>\n            </div>\n            \n            <div className=\"stats-display\">\n              <div className=\"stat-box\">\n                <span className=\"stat-label\">النقاط</span>\n                <span className=\"stat-value\">{points}</span>\n              </div>\n              \n              <div className=\"stat-box\">\n                <span className=\"stat-label\">المستوى</span>\n                <span className=\"stat-value\">{currentLevel}</span>\n              </div>\n            </div>\n            \n            <div className=\"progress-container\">\n              <div className=\"progress-label\">\n                <span>التقدم للمستوى {currentLevel + 1}</span>\n                <span>{Math.round(progress)}%</span>\n              </div>\n              <div className=\"progress-bar\">\n                <div \n                  className=\"progress-fill\"\n                  style={{ width: `${progress}%` }}\n                ></div>\n              </div>\n              <div className=\"progress-text\">\n                {pointsToNextLevel} نقطة متبقية للوصول للمستوى التالي\n              </div>\n            </div>\n            \n            <div className=\"timer-controls\">\n              <button \n                onClick={() => setIsRunning(!isRunning)}\n                className={`control-button ${isRunning ? 'pause-button' : 'start-button'}`}\n                disabled={bannedMembers.includes(user.uid)}\n              >\n                {isRunning ? ' إيقاف' : ' بدء'}\n              </button>\n              \n              <button \n                onClick={resetTimer}\n                className=\"control-button reset-button\"\n              >\n                 إعادة تعيين\n              </button>\n              \n              <button\n                onClick={toggleMembersSidebar}\n                className=\"control-button members-button\"\n              >\n                {showMembers ? ' إخفاء الأعضاء' : ' عرض الأعضاء'}\n              </button>\n            </div>\n          </div>\n        )}\n        \n        {activeTab === 'profile' && (\n          <div className=\"profile-container\">\n            <div className=\"profile-header\">\n              <img \n                src={user.photoURL} \n                alt=\"صورة الملف الشخصي\" \n                className=\"profile-avatar\"\n              />\n              <h2>{user.displayName}</h2>\n              <p className=\"user-level\">المستوى {currentLevel}</p>\n            </div>\n            \n            <div className=\"profile-stats\">\n              <div className=\"stat-row\">\n                <span className=\"stat-label\">إجمالي النقاط:</span>\n                <span className=\"stat-value\">{points}</span>\n              </div>\n              \n              <div className=\"stat-row\">\n                <span className=\"stat-label\">إجمالي وقت الدراسة:</span>\n                <span className=\"stat-value\">{Math.floor(time / 3600)} ساعة</span>\n              </div>\n              \n              <div className=\"stat-row\">\n                <span className=\"stat-label\">النقاط للوصول للمستوى التالي:</span>\n                <span className=\"stat-value\">{pointsToNextLevel}</span>\n              </div>\n            </div>\n            \n            {studySessions.length > 0 && (\n              <div className=\"sessions-history\">\n                <h3>آخر جلسات الدراسة</h3>\n                <div className=\"sessions-list\">\n                  {studySessions.map((session, index) => (\n                    <div key={index} className=\"session-item\">\n                      <span className=\"session-date\">\n                        {new Date(session.date).toLocaleDateString()}\n                      </span>\n                      <span className=\"session-duration\">\n                        {formatTime(session.duration)}\n                      </span>\n                      <span className=\"session-points\">\n                        +{session.pointsEarned} نقطة\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n        \n        {activeTab === 'shop' && (\n          <div className=\"shop-container\">\n            <h2>متجر النقاط</h2>\n            <div className=\"balance-display\">\n              <span>رصيدك الحالي:</span>\n              <span className=\"points-balance\">{points} نقطة</span>\n            </div>\n            <div className=\"shop-items\">\n              {shopItems.map(item => (\n                <div \n                  key={item.id} \n                  className={`shop-item ${hoveredItem === item.id ? 'hovered' : ''}`}\n                  style={{ \n                    borderColor: item.color,\n                    backgroundColor: item.bgColor,\n                  }}\n                  onMouseEnter={() => setHoveredItem(item.id)}\n                  onMouseLeave={() => setHoveredItem(null)}\n                >\n                  <div \n                    className=\"item-icon\" \n                    style={{ color: item.color }}\n                  >\n                    {item.icon}\n                  </div>\n                  <h3>{item.name}</h3>\n                  <p className=\"item-description\">{item.description}</p>\n                  <p className=\"item-price\" style={{ color: item.color }}>\n                    {item.price} نقطة\n                  </p>\n                  <button \n                    onClick={() => purchaseItem(item)}\n                    disabled={points < item.price}\n                    className={points < item.price ? 'disabled' : ''}\n                    style={{ backgroundColor: item.color }}\n                  >\n                    {points < item.price ? 'نقاط غير كافية' : 'شراء'}\n                  </button>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Members Sidebar */}\n      <div className={`members-sidebar ${showMembers ? 'show' : ''}`}>\n        <div className=\"sidebar-header\">\n          <h3>ترتيب المجموعة</h3>\n          <button \n            className=\"close-sidebar\" \n            onClick={toggleMembersSidebar}\n          >\n            ✕\n          </button>\n        </div>\n        \n        {loadingMembers ? (\n          <div className=\"loading-container\">\n            <div className=\"spinner\"></div>\n            <p>جاري تحميل الأعضاء...</p>\n          </div>\n        ) : (\n          <>\n            <div className=\"leaderboard\">\n              {members\n                .filter(member => !bannedMembers.includes(member.uid))\n                .map((member, index) => (\n                  <div \n                    key={member.uid} \n                    className={`member-item ${member.uid === user.uid ? 'current-user' : ''}`}\n                    onMouseEnter={() => setHoveredAvatar(member.uid)}\n                    onMouseLeave={() => setHoveredAvatar(null)}\n                  >\n                    <span className=\"member-rank\">{index + 1}</span>\n                    \n                    <div className=\"avatar-container\">\n                      <img \n                        src={member.photoURL} \n                        alt={member.name} \n                        className={`member-avatar ${hoveredAvatar === member.uid ? 'avatar-hover' : ''}`}\n                      />\n                      {onlineUsers.includes(member.uid) && <div className=\"online-status\"></div>}\n                      {hoveredAvatar === member.uid && <div className=\"avatar-tooltip\">{member.name}</div>}\n                    </div>\n                    \n                    <div className=\"member-info\">\n                      <span className=\"member-name\">{member.name}</span>\n                      <span className=\"member-points\">{member.points} نقطة</span>\n                    </div>\n                    \n                    {isCreator && member.uid !== user.uid && (\n                      <div className=\"member-actions\">\n                        <button \n                          onClick={() => toggleBanMember(member.uid)}\n                          className=\"ban-button\"\n                          title={bannedMembers.includes(member.uid) ? \"إلغاء الحظر\" : \"حظر العضو\"}\n                        >\n                          {bannedMembers.includes(member.uid) ? \"🚫\" : \"⛔\"}\n                        </button>\n                        <button \n                          onClick={() => removeMember(member.uid)}\n                          className=\"remove-button\"\n                          title=\"حذف العضو\"\n                        >\n                          ✕\n                        </button>\n                      </div>\n                    )}\n                  </div>\n                ))\n              }\n            </div>\n            \n            {bannedMembers.length > 0 && (\n              <div className=\"banned-section\">\n                <h4>الأعضاء المحظورين</h4>\n                {members\n                  .filter(member => bannedMembers.includes(member.uid))\n                  .map((member) => (\n                    <div key={member.uid} className=\"member-item banned-member\">\n                      <div className=\"avatar-container\">\n                        <img \n                          src={member.photoURL} \n                          alt={member.name} \n                          className=\"member-avatar\"\n                        />\n                      </div>\n                      \n                      <div className=\"member-info\">\n                        <span className=\"member-name\">{member.name}</span>\n                        <span className=\"banned-label\">محظور</span>\n                      </div>\n                      \n                      {isCreator && (\n                        <button \n                          onClick={() => toggleBanMember(member.uid)}\n                          className=\"unban-button\"\n                        >\n                          إلغاء الحظر\n                        </button>\n                      )}\n                    </div>\n                  ))\n                }\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      {/* Notification */}\n      {notification && (\n        <div className=\"notification\">\n          {notification}\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [groupName, setGroupName] = useState('');\n  const [groups, setGroups] = useState([]);\n  const [loadingGroups, setLoadingGroups] = useState(false);\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [showJoinModal, setShowJoinModal] = useState(false);\n  const [joinCode, setJoinCode] = useState('');\n  const [darkMode, setDarkMode] = useState(false);\n  const [notification, setNotification] = useState(null);\n\n  // Show notification\n  const showNotification = (message) => {\n    setNotification(message);\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  // Toggle dark/light theme\n  const toggleDarkMode = () => {\n    const newMode = !darkMode;\n    setDarkMode(newMode);\n    document.documentElement.setAttribute('data-theme', newMode ? 'dark' : 'light');\n    localStorage.setItem('darkMode', JSON.stringify(newMode));\n    showNotification(newMode ? '🌙 تم تفعيل الوضع المظلم' : '☀️ تم تفعيل الوضع الفاتح');\n  };\n\n  // Load theme preference\n  useEffect(() => {\n    const savedMode = JSON.parse(localStorage.getItem('darkMode'));\n    if (savedMode !== null) {\n      setDarkMode(savedMode);\n      document.documentElement.setAttribute('data-theme', savedMode ? 'dark' : 'light');\n    }\n  }, []);\n\n  // Auth state listener\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\n      if (currentUser) {\n        await setDoc(doc(db, \"users\", currentUser.uid), {\n          displayName: currentUser.displayName,\n          photoURL: currentUser.photoURL,\n          email: currentUser.email,\n          lastLogin: new Date()\n        }, { merge: true });\n        \n        setUser(currentUser);\n        await fetchUserGroups(currentUser.uid);\n      } else {\n        setUser(null);\n        setGroups([]);\n        setSelectedGroup(null);\n      }\n    });\n    \n    return () => unsubscribe();\n  }, []);\n\n  // Fetch user's groups\n  const fetchUserGroups = async (userId) => {\n    setLoadingGroups(true);\n    try {\n      const q = query(\n        collection(db, \"studyGroups\"),\n        where(\"members\", \"array-contains\", userId)\n      );\n      \n      const querySnapshot = await getDocs(q);\n      const groupsArray = [];\n      \n      const groupsPromises = querySnapshot.docs.map(async (docSnap) => {\n        const groupData = docSnap.data();\n        \n        if (groupData.bannedMembers?.includes(userId)) {\n          return null;\n        }\n        \n        const creatorDoc = await getDoc(doc(db, \"users\", groupData.creator));\n        const creatorName = creatorDoc.exists() ? creatorDoc.data().displayName : \"مستخدم غير معروف\";\n        \n        return { \n          id: docSnap.id, \n          ...groupData,\n          creatorName,\n          code: docSnap.id.slice(0, 6).toUpperCase(),\n          isCreator: groupData.creator === userId\n        };\n      });\n      \n      const groups = (await Promise.all(groupsPromises)).filter(Boolean);\n      setGroups(groups);\n      \n      if (selectedGroup && !groups.some(g => g.id === selectedGroup)) {\n        setSelectedGroup(null);\n      }\n    } catch (error) {\n      console.error(\"Error fetching user groups:\", error);\n      showNotification(\"❌ حدث خطأ أثناء جلب المجموعات\");\n    } finally {\n      setLoadingGroups(false);\n    }\n  };\n\n  // Google login\n  const handleLogin = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      const result = await signInWithPopup(auth, provider);\n      showNotification(`🎉 مرحباً ${result.user.displayName}!`);\n    } catch (error) {\n      console.error(\"Error signing in:\", error);\n      showNotification(\"❌ حدث خطأ أثناء تسجيل الدخول\");\n    }\n  };\n\n  // Logout\n  const handleLogout = async () => {\n    try {\n      await signOut(auth);\n      showNotification(\"✅ تم تسجيل الخروج بنجاح\");\n    } catch (error) {\n      console.error(\"Error signing out:\", error);\n    }\n  };\n\n  // Create new group\n  const addStudyGroup = async () => {\n    if (!groupName.trim()) {\n      showNotification(\"⚠️ الرجاء إدخال اسم المجموعة\");\n      return;\n    }\n    \n    try {\n      const newGroup = {\n        name: groupName.trim(),\n        createdAt: new Date(),\n        creator: user.uid,\n        members: [user.uid],\n        userPoints: { [user.uid]: 0 },\n        bannedMembers: []\n      };\n      \n      await addDoc(collection(db, \"studyGroups\"), newGroup);\n      setGroupName('');\n      showNotification(`🎉 تم إنشاء مجموعة \"${groupName.trim()}\" بنجاح`);\n      await fetchUserGroups(user.uid);\n    } catch (error) {\n      console.error(\"Error adding group:\", error);\n      showNotification(\"❌ حدث خطأ أثناء إنشاء المجموعة\");\n    }\n  };\n\n  // Delete group\n  const deleteGroup = async (groupId) => {\n    if (window.confirm(\"⚠️ هل أنت متأكد من حذف هذه المجموعة؟ سيتم حذف جميع بياناتها نهائياً\")) {\n      try {\n        const groupItem = document.getElementById(`group-${groupId}`);\n        if (groupItem) {\n          groupItem.style.transform = 'scale(0.9)';\n          groupItem.style.opacity = '0.5';\n          groupItem.style.transition = 'all 0.3s ease';\n          groupItem.style.animation = 'shake 0.5s';\n          \n          await new Promise(resolve => setTimeout(resolve, 500));\n        }\n        \n        await deleteDoc(doc(db, \"studyGroups\", groupId));\n        showNotification(\"✅ تم حذف المجموعة بنجاح\");\n        await fetchUserGroups(user.uid);\n      } catch (error) {\n        console.error(\"Error deleting group:\", error);\n        showNotification(\"❌ حدث خطأ أثناء حذف المجموعة\");\n      }\n    }\n  };\n\n  // Join group by code\n  const joinGroupByCode = async () => {\n    if (!joinCode.trim()) {\n      showNotification(\"⚠️ الرجاء إدخال كود المجموعة\");\n      return;\n    }\n    \n    try {\n      const allGroupsQuery = collection(db, \"studyGroups\");\n      const allGroupsSnapshot = await getDocs(allGroupsQuery);\n      \n      let groupToJoin = null;\n      allGroupsSnapshot.forEach(doc => {\n        const groupCode = doc.id.slice(0, 6).toUpperCase();\n        if (groupCode === joinCode.toUpperCase().trim()) {\n          groupToJoin = { \n            id: doc.id, \n            ...doc.data(),\n            code: groupCode\n          };\n        }\n      });\n      \n      if (groupToJoin) {\n        if (groupToJoin.bannedMembers?.includes(user.uid)) {\n          showNotification(`🚫 أنت محظور من هذه المجموعة (${groupToJoin.name})`);\n          return;\n        }\n        \n        if (groupToJoin.members && groupToJoin.members.includes(user.uid)) {\n          setSelectedGroup(groupToJoin.id);\n          setShowJoinModal(false);\n          setJoinCode('');\n          return;\n        }\n        \n        await updateDoc(doc(db, \"studyGroups\", groupToJoin.id), {\n          [`userPoints.${user.uid}`]: 0,\n          members: [...(groupToJoin.members || []), user.uid]\n        });\n        \n        setSelectedGroup(groupToJoin.id);\n        setShowJoinModal(false);\n        setJoinCode('');\n        showNotification(`تم الانضمام إلى مجموعة \"${groupToJoin.name}\"`);\n        await fetchUserGroups(user.uid);\n      } else {\n        showNotification(\"لا توجد مجموعة بهذا الكود\");\n      }\n    } catch (error) {\n      console.error(\"Error joining group:\", error);\n      showNotification(\"حدث خطأ أثناء الانضمام للمجموعة\");\n    }\n  };\n\n  // Handle join group\n  const handleJoinGroup = (groupId) => {\n    setSelectedGroup(groupId);\n  };\n\n  // Back to groups list\n  const handleBackToGroups = () => {\n    setSelectedGroup(null);\n  };\n\n  if (selectedGroup && user) {\n    return (\n      <div className=\"App\">\n        <Timer \n          user={user} \n          onBack={handleBackToGroups}\n          groupId={selectedGroup}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"App\">\n      <button \n        onClick={toggleDarkMode} \n        className=\"theme-toggle\"\n        aria-label={darkMode ? 'تفعيل الوضع الفاتح' : 'تفعيل الوضع الغامق'}\n      >\n        {darkMode ? '☀️' : '🌙'}\n      </button>\n      \n      <header className=\"App-header\">\n        <div className=\"login-container\">\n          {!user ? (\n            <div className=\"welcome-screen\">\n              <h1>مجموعات الدراسة التعاونية</h1>\n              <p>انضم إلى مجتمع المذاكرة مع الأصدقاء وحقق أهدافك التعليمية</p>\n              <button className=\"login-button\" onClick={handleLogin}>\n                <span>تسجيل الدخول باستخدام Google</span>\n              </button>\n            </div>\n          ) : (\n            <div className=\"user-welcome\">\n              <div className=\"user-info\">\n                <img src={user.photoURL} alt=\"صورة المستخدم\" className=\"user-avatar\" />\n                <div className=\"user-details\">\n                  <h2>مرحباً {user.displayName}!</h2>\n                  <button className=\"logout-button\" onClick={handleLogout}>\n                    تسجيل الخروج\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {user && (\n          <div className=\"group-management\">\n            <div className=\"group-creation\">\n              <h2>إنشاء مجموعة جديدة</h2>\n              <div className=\"input-group\">\n                <input\n                  type=\"text\"\n                  value={groupName}\n                  onChange={(e) => setGroupName(e.target.value)}\n                  placeholder=\"أدخل اسم المجموعة\"\n                  onKeyPress={(e) => e.key === 'Enter' && addStudyGroup()}\n                />\n                <button className=\"create-button\" onClick={addStudyGroup}>\n                  إنشاء\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"join-group\">\n              <h2>الانضمام إلى مجموعة</h2>\n              <button \n                className=\"join-button\"\n                onClick={() => setShowJoinModal(true)}\n              >\n                الانضمام بمجموعة موجودة\n              </button>\n            </div>\n          </div>\n        )}\n\n        {user && (\n          <div className=\"study-groups\">\n            <h2>مجموعاتك الدراسية</h2>\n            \n            {loadingGroups ? (\n              <div className=\"loading-container\">\n                <div className=\"spinner\"></div>\n                <p>جاري تحميل المجموعات...</p>\n              </div>\n            ) : groups.length === 0 ? (\n              <div className=\"empty-state\">\n                <img src=\"/empty-groups.svg\" alt=\"لا توجد مجموعات\" className=\"empty-image\" />\n                <p>لا توجد مجموعات متاحة حالياً</p>\n                <button \n                  className=\"create-button\"\n                  onClick={() => document.querySelector('.group-creation input').focus()}\n                >\n                  إنشاء مجموعة جديدة\n                </button>\n              </div>\n            ) : (\n              <div className=\"groups-grid\">\n                {groups.map((group) => (\n                  <div key={group.id} id={`group-${group.id}`} className=\"group-card\">\n                    <div className=\"group-content\">\n                      <h3 className=\"group-name\">{group.name}</h3>\n                      <p className=\"group-meta\">\n                        <span className=\"group-creator\">المنشئ: {group.creatorName}</span>\n                        <span className=\"group-code\">كود: {group.code}</span>\n                      </p>\n                      {group.isCreator && <span className=\"creator-badge\">أنت المنشئ</span>}\n                    </div>\n                    \n                    <div className=\"group-actions\">\n                      <button \n                        onClick={() => handleJoinGroup(group.id)} \n                        className=\"join-button\"\n                      >\n                        دخول المجموعة\n                      </button>\n                      \n                      {group.isCreator && (\n                        <button \n                          onClick={() => deleteGroup(group.id)} \n                          className=\"delete-button\"\n                        >\n                          حذف المجموعة\n                        </button>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n        \n        {showJoinModal && (\n          <div className=\"modal-overlay\" onClick={() => setShowJoinModal(false)}>\n            <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\n              <button className=\"close-button\" onClick={() => setShowJoinModal(false)}>\n                &times;\n              </button>\n              \n              <h2>الانضمام إلى مجموعة</h2>\n              <p>أدخل كود المجموعة المكون من 6 أحرف</p>\n              \n              <input\n                type=\"text\"\n                value={joinCode}\n                onChange={(e) => setJoinCode(e.target.value)}\n                placeholder=\"أدخل كود المجموعة\"\n                maxLength={6}\n                className=\"join-input\"\n              />\n              \n              <div className=\"modal-actions\">\n                <button onClick={joinGroupByCode} className=\"confirm-button\">\n                  تأكيد الانضمام\n                </button>\n                <button \n                  onClick={() => setShowJoinModal(false)} \n                  className=\"cancel-button\"\n                >\n                  إلغاء\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {notification && (\n          <div className=\"notification\">\n            {notification}\n          </div>\n        )}\n\n        <footer className=\"app-footer\">\n          <p>تم تطويره بواسطة محمد أبو طبيخ © {new Date().getFullYear()}</p>\n        </footer>\n      </header>\n    </div>\n  );\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && typeof onPerfEntry === 'function') {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    }).catch((error) => {\n      console.log('Error importing web-vitals:', error);\n    });\n  }\n};\n\nexport default reportWebVitals;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\n// 1. تعيين عنوان الصفحة\ndocument.title = \"TimeCapsule\";\n\n// 2. مسح ذاكرة التخزين المؤقت القديمة\nif ('caches' in window) {\n  caches.keys().then(cacheNames => {\n    cacheNames.forEach(cacheName => {\n      caches.delete(cacheName);\n    });\n  });\n}\n\n// 3. تصيير التطبيق مع إعدادات المسار الصحيحة\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// 4. إدارة Service Worker\nserviceWorkerRegistration.unregister();\n\n// 5. إعدادات Web Vitals\nreportWebVitals();\n\n// 6. إصلاح مسارات GitHub Pages\nif (process.env.NODE_ENV === 'production') {\n  const baseUrl = '/frist-1';\n  if (!window.location.pathname.startsWith(baseUrl)) {\n    window.history.replaceState('', '', baseUrl + window.location.pathname);\n  }\n}"],"sourceRoot":""}